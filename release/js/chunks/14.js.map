{"version":3,"sources":["webpack:///chunks/14.js","webpack:///./src/filters/cdnUrl.js?df99","webpack:///./src/views/soyyin/addProduct.vue","webpack:///./src/views/soyyin/addProduct.vue?ccd9","webpack:///./src/views/soyyin/addProduct.vue?7332","webpack:///addProduct.vue","webpack:///./src/util/util-plupload.js","webpack:///./src/views/soyyin/addProduct.vue?0f3c"],"names":["webpackJsonp","228","module","exports","__webpack_require__","Object","defineProperty","value","cdn","default","230","__vue_script__","__vue_template__","__esModule","options","template","231","content","id","locals","232","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","233","_interopRequireDefault","obj","_utilPlupload","_utilPlupload2","data","categories","checkedCategoryIds","imgs","ready","this","getCategory","initUploadImgs","methods","_this","$http","get","then","addImgBtn","length","$nextTick","$","map","i","item","hasClass","addClass","setFirst","index","document","getElementsByClassName","innerHTML","console","log","indexOf","slice","$set","temp","234","fatherId","Qiniu","uploader","runtimes","browse_button","uptoken_url","get_new_uptoken","unique_names","save_key","domain","container","max_file_size","flash_swf_url","filters","mime_types","title","extensions","max_retries","dragdrop","drop_element","chunk_size","auto_start","init","FilesAdded","up","files","plupload","each","BeforeUpload","UploadProgress","FileUploaded","info","getOption","res","parseJSON","sourceLink","key","height","width","html","css","Error","err","errTip","alert","UploadComplete","_cdnUrl","_cdnUrl2","235"],"mappings":"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","file":"chunks/14.js","sourcesContent":["webpackJsonp([14],{\n\n/***/ 228:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Created by humorHan on 16/12/15.\n\t */\n\tif (false) {\n\t    var cdn = 'http://source.soyyin.com/';\n\t} else {\n\t    var cdn = 'http://7xsolp.com1.z0.glb.clouddn.com/';\n\t}\n\texports.default = cdn;\n\n/***/ },\n\n/***/ 230:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(231)\n\t__vue_script__ = __webpack_require__(233)\n\t__vue_template__ = __webpack_require__(235)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\n\n\n/***/ },\n\n/***/ 231:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(232);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(40)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-e1bfb006&file=addProduct.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./addProduct.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-e1bfb006&file=addProduct.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./addProduct.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 232:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(39)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".red[_v-e1bfb006]{color:red;vertical-align:sub}.w200[_v-e1bfb006]{width:200px}.content[_v-e1bfb006]{border:1px solid #ecf0f1;padding:30px}.form-control[_v-e1bfb006]{display:inline-block;width:auto;height:auto;vertical-align:middle}.upload-cover[_v-e1bfb006],.upload[_v-e1bfb006]{width:112px;height:112px;font-weight:700;font-size:70px;border:2px solid #dce4ec;border-radius:2px;color:#ecf0f1;text-align:center;cursor:pointer;vertical-align:middle;line-height:100px}.products-wrap[_v-e1bfb006]{vertical-align:middle;margin-top:5px;display:inline-block;padding:0}.products-wrap li[_v-e1bfb006]{vertical-align:middle;position:relative;margin-right:30px;display:inline-block;list-style-type:none}.products-wrap li:hover .setFirst[_v-e1bfb006]{display:block}.setFirst[_v-e1bfb006]{display:none;position:absolute;top:90px;width:108px;margin-left:2px;cursor:pointer;z-index:2;background:#fff;color:#000;opacity:.7;text-align:center;font-size:14px}.sub[_v-e1bfb006]{vertical-align:sub}.category[_v-e1bfb006]{margin-right:20px}.mt20[_v-e1bfb006]{margin-top:20px}.middle[_v-e1bfb006]{vertical-align:middle}.font14[_v-e1bfb006]{font-size:14px}.mt15[_v-e1bfb006]{margin-top:15px}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/soyyin/addProduct.vue.style\"],\"names\":[],\"mappings\":\"AAyGA,kBACA,UAAA,AACA,kBAAA,CACA,AACA,mBACA,WAAA,CACA,AACA,sBACA,yBAAA,AACA,YAAA,CACA,AACA,2BACA,qBAAA,AACA,WAAA,AACA,YAAA,AACA,qBAAA,CACA,AACA,gDACA,YAAA,AACA,aAAA,AACA,gBAAA,AACA,eAAA,AACA,yBAAA,AACA,kBAAA,AACA,cAAA,AACA,kBAAA,AACA,eAAA,AACA,sBAAA,AACA,iBAAA,CACA,AACA,4BACA,sBAAA,AACA,eAAA,AACA,qBAAA,AACA,SAAA,CACA,AACA,+BACA,sBAAA,AACA,kBAAA,AACA,kBAAA,AACA,qBAAA,AACA,oBAAA,CACA,AACA,+CACA,aAAA,CACA,AACA,uBACA,aAAA,AACA,kBAAA,AACA,SAAA,AACA,YAAA,AACA,gBAAA,AACA,eAAA,AACA,UAAA,AACA,gBAAA,AACA,WAAA,AACA,WAAA,AACA,kBAAA,AACA,cAAA,CACA,AACA,kBACA,kBAAA,CACA,AACA,uBACA,iBAAA,CACA,AACA,mBACA,eAAA,CACA,AACA,qBACA,qBAAA,CACA,AACA,qBACA,cAAA,CACA,AACA,mBACA,eAAA,CACA\",\"file\":\"addProduct.vue\",\"sourcesContent\":[\"<template>\\n    <div class=\\\"container-fluid\\\">\\n        <ul class=\\\"breadcrumb\\\">\\n            <li>酱印网</li>\\n            <li>商品管理</li>\\n            <li>添加商品</li>\\n        </ul>\\n        <h2>添加商品</h2>\\n        <div class=\\\"content\\\">\\n            <div>\\n                <h4>商品名称 <span class=\\\"red\\\">*</span></h4>\\n                <input class=\\\"form-control input-sm w200\\\" type=\\\"text\\\">\\n            </div>\\n            <div class=\\\"mt20\\\">\\n                <h4>所属分组 <span class=\\\"red\\\">*</span></h4>\\n                <label v-for=\\\"item in categories\\\" class=\\\"category\\\">\\n                    <input class=\\\"form-control input-sm\\\" type=\\\"checkbox\\\" value=\\\"{{item.id}}\\\" v-model=\\\"checkedCategoryIds\\\">\\n                    <span class=\\\"sub\\\">{{item.name}}</span>\\n                </label>\\n            </div>\\n            <div class=\\\"mt20\\\">\\n                <h4>\\n                    封面图片\\n                    <span class=\\\"middle font14\\\">分辨率要求：40 * 40px</span>\\n                </h4>\\n                <div class=\\\"upload-cover mt15\\\" id=\\\"add-cover\\\">+</div>\\n            </div>\\n            <div class=\\\"mt20\\\">\\n                <h4>\\n                    商品图片\\n                    <span class=\\\"middle font14\\\">分辨率要求：800 * 800px</span>\\n                </h4>\\n                <ul class=\\\"products-wrap\\\">\\n                    <li class=\\\"product-item\\\" v-for=\\\"item of imgs\\\" track-by=\\\"Math.random()\\\">\\n                        <div class=\\\"upload\\\" id=\\\"upload-img{{$index}}\\\">{{{item}}}</div>\\n                        <div class=\\\"setFirst\\\" v-if=\\\"$index != 0\\\" @click=\\\"setFirst($index)\\\">设为第一张</div>\\n                    </li>\\n                </ul>\\n                <div class=\\\"btn btn-info middle\\\" @click=\\\"addImgBtn\\\">添加商品图片</div>\\n            </div>\\n        </div>\\n    </div>\\n</template>\\n\\n<script>\\n    import uploadUtil from '../../util/util-plupload';\\n\\n    export default {\\n        data() {\\n            return {\\n                categories: [],\\n                checkedCategoryIds: [],\\n                imgs: ['', '', '']\\n            }\\n        },\\n        ready(){\\n            this.getCategory();\\n            this.initUploadImgs();\\n            uploadUtil('add-cover');\\n        },\\n        methods: {\\n            getCategory(){\\n                this.$http.get('/api/v2/admin/products/category-brief-list')\\n                    .then((data) => {\\n                        this.categories = data.data.categories;\\n                    });\\n            },\\n            addImgBtn(){\\n                if (this.imgs.length < 5) {\\n                    this.imgs.push('');\\n                    this.$nextTick(function () {\\n                        this.initUploadImgs();\\n                    });\\n                }\\n            },\\n            initUploadImgs(){\\n                $(\\\".upload\\\").map(function (i, item) {\\n                    if (!$(item).hasClass(\\\"initUpload\\\")) {\\n                        uploadUtil($(item)[0].id);\\n                        $(item).addClass(\\\"initUpload\\\");\\n                    }\\n                });\\n            },\\n            setFirst(index){\\n                let item = document.getElementsByClassName('upload')[index].innerHTML;\\n                console.log(item.indexOf('--'));\\n                if (item.indexOf('--') > 0) {\\n                    console.log(1,item.slice(0, item.indexOf('--')));\\n                    this.imgs.$set(index, item.slice(0, item.indexOf('--') - 2));\\n                } else{\\n                    this.imgs.$set(index, item.slice(0, item.indexOf('--')));\\n                }\\n\\n                let temp = this.imgs[index];\\n                this.imgs.$set(index, this.imgs[0]);\\n                this.imgs.$set(0, temp);\\n                this.$nextTick(function(){\\n                    this.initUploadImgs();\\n                })\\n            }\\n        }\\n    }\\n</script>\\n\\n<style scoped>\\n    .red{\\n        color: red;\\n        vertical-align: sub;\\n    }\\n    .w200{\\n        width: 200px;\\n    }\\n    .content{\\n        border: 1px solid #ecf0f1;\\n        padding: 30px;\\n    }\\n    .form-control{\\n        display: inline-block;\\n        width: auto;\\n        height: auto;\\n        vertical-align: middle;\\n    }\\n    .upload,.upload-cover{\\n        width: 112px;\\n        height: 112px;\\n        font-weight: bold;\\n        font-size: 70px;\\n        border: 2px solid #dce4ec;\\n        border-radius: 2px;\\n        color: #ecf0f1;\\n        text-align: center;\\n        cursor: pointer;\\n        vertical-align: middle;\\n        line-height: 100px;\\n    }\\n    .products-wrap{\\n        vertical-align: middle;\\n        margin-top: 5px;\\n        display: inline-block;\\n        padding: 0;\\n    }\\n    .products-wrap li{\\n        vertical-align: middle;\\n        position: relative;\\n        margin-right: 30px;\\n        display: inline-block;\\n        list-style-type: none;\\n    }\\n    .products-wrap li:hover .setFirst{\\n        display: block;\\n    }\\n    .setFirst{\\n        display: none;\\n        position: absolute;\\n        top: 90px;\\n        width: 108px;\\n        margin-left: 2px;\\n        cursor: pointer;\\n        z-index: 2;\\n        background: white;\\n        color: black;\\n        opacity: .7;\\n        text-align: center;\\n        font-size: 14px;\\n    }\\n    .sub{\\n        vertical-align: sub;\\n    }\\n    .category{\\n        margin-right: 20px;\\n    }\\n    .mt20{\\n        margin-top: 20px;\\n    }\\n    .middle{\\n        vertical-align: middle;\\n    }\\n    .font14{\\n        font-size: 14px;\\n    }\\n    .mt15{\\n        margin-top: 15px;\\n    }\\n</style>\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 233:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _utilPlupload = __webpack_require__(234);\n\t\n\tvar _utilPlupload2 = _interopRequireDefault(_utilPlupload);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    data: function data() {\n\t        return {\n\t            categories: [],\n\t            checkedCategoryIds: [],\n\t            imgs: ['', '', '']\n\t        };\n\t    },\n\t    ready: function ready() {\n\t        this.getCategory();\n\t        this.initUploadImgs();\n\t        (0, _utilPlupload2.default)('add-cover');\n\t    },\n\t\n\t    methods: {\n\t        getCategory: function getCategory() {\n\t            var _this = this;\n\t\n\t            this.$http.get('/api/v2/admin/products/category-brief-list').then(function (data) {\n\t                _this.categories = data.data.categories;\n\t            });\n\t        },\n\t        addImgBtn: function addImgBtn() {\n\t            if (this.imgs.length < 5) {\n\t                this.imgs.push('');\n\t                this.$nextTick(function () {\n\t                    this.initUploadImgs();\n\t                });\n\t            }\n\t        },\n\t        initUploadImgs: function initUploadImgs() {\n\t            $(\".upload\").map(function (i, item) {\n\t                if (!$(item).hasClass(\"initUpload\")) {\n\t                    (0, _utilPlupload2.default)($(item)[0].id);\n\t                    $(item).addClass(\"initUpload\");\n\t                }\n\t            });\n\t        },\n\t        setFirst: function setFirst(index) {\n\t            var item = document.getElementsByClassName('upload')[index].innerHTML;\n\t            console.log(item.indexOf('--'));\n\t            if (item.indexOf('--') > 0) {\n\t                console.log(1, item.slice(0, item.indexOf('--')));\n\t                this.imgs.$set(index, item.slice(0, item.indexOf('--') - 2));\n\t            } else {\n\t                this.imgs.$set(index, item.slice(0, item.indexOf('--')));\n\t            }\n\t\n\t            var temp = this.imgs[index];\n\t            this.imgs.$set(index, this.imgs[0]);\n\t            this.imgs.$set(0, temp);\n\t            this.$nextTick(function () {\n\t                this.initUploadImgs();\n\t            });\n\t        }\n\t    }\n\t};\n\t// </script>\n\t//\n\t// <style scoped>\n\t//     .red{\n\t//         color: red;\n\t//         vertical-align: sub;\n\t//     }\n\t//     .w200{\n\t//         width: 200px;\n\t//     }\n\t//     .content{\n\t//         border: 1px solid #ecf0f1;\n\t//         padding: 30px;\n\t//     }\n\t//     .form-control{\n\t//         display: inline-block;\n\t//         width: auto;\n\t//         height: auto;\n\t//         vertical-align: middle;\n\t//     }\n\t//     .upload,.upload-cover{\n\t//         width: 112px;\n\t//         height: 112px;\n\t//         font-weight: bold;\n\t//         font-size: 70px;\n\t//         border: 2px solid #dce4ec;\n\t//         border-radius: 2px;\n\t//         color: #ecf0f1;\n\t//         text-align: center;\n\t//         cursor: pointer;\n\t//         vertical-align: middle;\n\t//         line-height: 100px;\n\t//     }\n\t//     .products-wrap{\n\t//         vertical-align: middle;\n\t//         margin-top: 5px;\n\t//         display: inline-block;\n\t//         padding: 0;\n\t//     }\n\t//     .products-wrap li{\n\t//         vertical-align: middle;\n\t//         position: relative;\n\t//         margin-right: 30px;\n\t//         display: inline-block;\n\t//         list-style-type: none;\n\t//     }\n\t//     .products-wrap li:hover .setFirst{\n\t//         display: block;\n\t//     }\n\t//     .setFirst{\n\t//         display: none;\n\t//         position: absolute;\n\t//         top: 90px;\n\t//         width: 108px;\n\t//         margin-left: 2px;\n\t//         cursor: pointer;\n\t//         z-index: 2;\n\t//         background: white;\n\t//         color: black;\n\t//         opacity: .7;\n\t//         text-align: center;\n\t//         font-size: 14px;\n\t//     }\n\t//     .sub{\n\t//         vertical-align: sub;\n\t//     }\n\t//     .category{\n\t//         margin-right: 20px;\n\t//     }\n\t//     .mt20{\n\t//         margin-top: 20px;\n\t//     }\n\t//     .middle{\n\t//         vertical-align: middle;\n\t//     }\n\t//     .font14{\n\t//         font-size: 14px;\n\t//     }\n\t//     .mt15{\n\t//         margin-top: 15px;\n\t//     }\n\t// </style>\n\t/* generated by vue-loader */\n\t// <template>\n\t//     <div class=\"container-fluid\">\n\t//         <ul class=\"breadcrumb\">\n\t//             <li>酱印网</li>\n\t//             <li>商品管理</li>\n\t//             <li>添加商品</li>\n\t//         </ul>\n\t//         <h2>添加商品</h2>\n\t//         <div class=\"content\">\n\t//             <div>\n\t//                 <h4>商品名称 <span class=\"red\">*</span></h4>\n\t//                 <input class=\"form-control input-sm w200\" type=\"text\">\n\t//             </div>\n\t//             <div class=\"mt20\">\n\t//                 <h4>所属分组 <span class=\"red\">*</span></h4>\n\t//                 <label v-for=\"item in categories\" class=\"category\">\n\t//                     <input class=\"form-control input-sm\" type=\"checkbox\" value=\"{{item.id}}\" v-model=\"checkedCategoryIds\">\n\t//                     <span class=\"sub\">{{item.name}}</span>\n\t//                 </label>\n\t//             </div>\n\t//             <div class=\"mt20\">\n\t//                 <h4>\n\t//                     封面图片\n\t//                     <span class=\"middle font14\">分辨率要求：40 * 40px</span>\n\t//                 </h4>\n\t//                 <div class=\"upload-cover mt15\" id=\"add-cover\">+</div>\n\t//             </div>\n\t//             <div class=\"mt20\">\n\t//                 <h4>\n\t//                     商品图片\n\t//                     <span class=\"middle font14\">分辨率要求：800 * 800px</span>\n\t//                 </h4>\n\t//                 <ul class=\"products-wrap\">\n\t//                     <li class=\"product-item\" v-for=\"item of imgs\" track-by=\"Math.random()\">\n\t//                         <div class=\"upload\" id=\"upload-img{{$index}}\">{{{item}}}</div>\n\t//                         <div class=\"setFirst\" v-if=\"$index != 0\" @click=\"setFirst($index)\">设为第一张</div>\n\t//                     </li>\n\t//                 </ul>\n\t//                 <div class=\"btn btn-info middle\" @click=\"addImgBtn\">添加商品图片</div>\n\t//             </div>\n\t//         </div>\n\t//     </div>\n\t// </template>\n\t//\n\t// <script>\n\n/***/ },\n\n/***/ 234:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function (id, fatherId) {\n\t\n\t    // 创建上传对象\n\t    var uploader = Qiniu.uploader({\n\t        //上传模式，依次退化\n\t        runtimes: 'html5,flash,html4',\n\t        //上传选择的点选按钮，**必需**\n\t        browse_button: id,\n\t        //Ajax请求upToken的Url，**强烈建议设置**（服务端提供）\n\t        //uptoken : '',\n\t        //设置上传文件的时候是否每次都重新获取新的uptoken\n\t        uptoken_url: '/api/v2/admin/others/uptoken-without-key',\n\t        //若未指定uptoken_url，则必须指定 uptoken，uptoken由其他程序生成\n\t        //在需要获取uptoken时，该方法会被调用\n\t        //uptoken_func: function(file) {\n\t        //},\n\t        //设置上传文件的时候是否每次都重新获取新的uptoken\n\t        get_new_uptoken: true,\n\t        //默认 false，key为文件名。若开启该选项，SDK会为每个文件自动生成key（文件名）\n\t        unique_names: false,\n\t        //默认 false。若在服务端生成uptoken的上传策略中指定了 `sava_key`，则开启，SDK在前端将不对key进行任何处理\n\t        save_key: true,\n\t        //bucket 域名，下载资源时用到，**必需**\n\t        //domain: 'http://source.soyyin.com/',\n\t        domain: _cdnUrl2.default,\n\t        //上传区域DOM ID，默认是browser_button的父元素，\n\t        container: fatherId,\n\t        //最大文件体积限制\n\t        max_file_size: '100mb',\n\t        //引入flash，相对路径\n\t        flash_swf_url: 'https://cdn.staticfile.org/Plupload/2.1.1/Moxie.swf',\n\t        filters: {\n\t            mime_types: [\n\t            //只允许上传图片文件 （注意，extensions中，逗号后面不要加空格）\n\t            { title: \"图片文件\", extensions: \"jpg,gif,png,bmp,jpeg\" }]\n\t        },\n\t        //上传失败最大重试次数\n\t        max_retries: 3,\n\t        //开启可拖曳上传\n\t        dragdrop: true,\n\t        //拖曳上传区域元素的ID，拖曳文件或文件夹后可触发上传\n\t        drop_element: 'crops',\n\t        //分块上传时，每片的体积\n\t        chunk_size: '4mb',\n\t        //选择文件后自动上传，若关闭需要自己绑定事件触发上传\n\t        auto_start: true,\n\t        init: {\n\t            'FilesAdded': function FilesAdded(up, files) {\n\t                plupload.each(files, function (file) {\n\t                    // 文件添加进队列后,处理相关的事情\n\t                });\n\t            },\n\t            'BeforeUpload': function BeforeUpload(up, file) {\n\t                // 每个文件上传前,处理相关的事情\n\t            },\n\t            'UploadProgress': function UploadProgress(up, file) {\n\t                // 显示进度条\n\t                //editor.showUploadProgress(file.percent);\n\t            },\n\t            'FileUploaded': function FileUploaded(up, file, info) {\n\t                // 每个文件上传成功后，处理相关的事情\n\t                // 其中 info 是文件上传成功后，服务端返回的json，形式如\n\t                // {\n\t                //    \"hash\": \"Fh8xVqod2MQ1mocfI4S4KpRL6D98\",\n\t                //    \"key\": \"gogopher.jpg\"\n\t                //  }\n\t                var domain = up.getOption('domain');\n\t                var res = $.parseJSON(info);\n\t                var sourceLink = domain + res.key; //获取上传成功后的文件的Url\n\t\n\t                //TODO 缩略图\n\t                var height = $(\"#\" + id).height();\n\t                var width = $(\"#\" + id).width();\n\t                $(\"#\" + id).html('<img src=\"' + sourceLink + '\" height=\"' + height + '\" width=\"' + width + '\" />').css(\"font-size\", 0);\n\t            },\n\t            'Error': function Error(up, err, errTip) {\n\t                alert(errTip);\n\t            },\n\t            'UploadComplete': function UploadComplete() {\n\t                //队列文件处理完毕后,处理相关的事情\n\t\n\t                // 隐藏进度条\n\t                //editor.hideUploadProgress();\n\t            }\n\t        }\n\t    });\n\t};\n\t\n\tvar _cdnUrl = __webpack_require__(228);\n\t\n\tvar _cdnUrl2 = _interopRequireDefault(_cdnUrl);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Created by humorHan on 16/12/12.\n\t */\n\t;\n\n/***/ },\n\n/***/ 235:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=container-fluid _v-e1bfb006=\\\"\\\"> <ul class=breadcrumb _v-e1bfb006=\\\"\\\"> <li _v-e1bfb006=\\\"\\\">酱印网</li> <li _v-e1bfb006=\\\"\\\">商品管理</li> <li _v-e1bfb006=\\\"\\\">添加商品</li> </ul> <h2 _v-e1bfb006=\\\"\\\">添加商品</h2> <div class=content _v-e1bfb006=\\\"\\\"> <div _v-e1bfb006=\\\"\\\"> <h4 _v-e1bfb006=\\\"\\\">商品名称 <span class=red _v-e1bfb006=\\\"\\\">*</span></h4> <input class=\\\"form-control input-sm w200\\\" type=text _v-e1bfb006=\\\"\\\"> </div> <div class=mt20 _v-e1bfb006=\\\"\\\"> <h4 _v-e1bfb006=\\\"\\\">所属分组 <span class=red _v-e1bfb006=\\\"\\\">*</span></h4> <label v-for=\\\"item in categories\\\" class=category _v-e1bfb006=\\\"\\\"> <input class=\\\"form-control input-sm\\\" type=checkbox value={{item.id}} v-model=checkedCategoryIds _v-e1bfb006=\\\"\\\"> <span class=sub _v-e1bfb006=\\\"\\\">{{item.name}}</span> </label> </div> <div class=mt20 _v-e1bfb006=\\\"\\\"> <h4 _v-e1bfb006=\\\"\\\"> 封面图片 <span class=\\\"middle font14\\\" _v-e1bfb006=\\\"\\\">分辨率要求：40 * 40px</span> </h4> <div class=\\\"upload-cover mt15\\\" id=add-cover _v-e1bfb006=\\\"\\\">+</div> </div> <div class=mt20 _v-e1bfb006=\\\"\\\"> <h4 _v-e1bfb006=\\\"\\\"> 商品图片 <span class=\\\"middle font14\\\" _v-e1bfb006=\\\"\\\">分辨率要求：800 * 800px</span> </h4> <ul class=products-wrap _v-e1bfb006=\\\"\\\"> <li class=product-item v-for=\\\"item of imgs\\\" track-by=Math.random() _v-e1bfb006=\\\"\\\"> <div class=upload id=upload-img{{$index}} _v-e1bfb006=\\\"\\\">{{{item}}}</div> <div class=setFirst v-if=\\\"$index != 0\\\" @click=setFirst($index) _v-e1bfb006=\\\"\\\">设为第一张</div> </li> </ul> <div class=\\\"btn btn-info middle\\\" @click=addImgBtn _v-e1bfb006=\\\"\\\">添加商品图片</div> </div> </div> </div> \";\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// chunks/14.js","/**\n * Created by humorHan on 16/12/15.\n */\nif (PRODUCTION_ENV) {\n    var cdn = 'http://source.soyyin.com/';\n} else {\n    var cdn = 'http://7xsolp.com1.z0.glb.clouddn.com/';\n}\nexport default cdn;\n\n\n// WEBPACK FOOTER //\n// ./src/filters/cdnUrl.js","var __vue_script__, __vue_template__\nrequire(\"-!style-loader!css-loader?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-e1bfb006&file=addProduct.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./addProduct.vue\")\n__vue_script__ = require(\"-!babel-loader!./../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./addProduct.vue\")\n__vue_template__ = require(\"-!vue-html-loader!./../../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-e1bfb006&file=addProduct.vue!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./addProduct.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/soyyin/addProduct.vue\n// module id = 230\n// module chunks = 14","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-e1bfb006&file=addProduct.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./addProduct.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-e1bfb006&file=addProduct.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./addProduct.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-e1bfb006&file=addProduct.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./addProduct.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=_v-e1bfb006&file=addProduct.vue&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/soyyin/addProduct.vue\n// module id = 231\n// module chunks = 14","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".red[_v-e1bfb006]{color:red;vertical-align:sub}.w200[_v-e1bfb006]{width:200px}.content[_v-e1bfb006]{border:1px solid #ecf0f1;padding:30px}.form-control[_v-e1bfb006]{display:inline-block;width:auto;height:auto;vertical-align:middle}.upload-cover[_v-e1bfb006],.upload[_v-e1bfb006]{width:112px;height:112px;font-weight:700;font-size:70px;border:2px solid #dce4ec;border-radius:2px;color:#ecf0f1;text-align:center;cursor:pointer;vertical-align:middle;line-height:100px}.products-wrap[_v-e1bfb006]{vertical-align:middle;margin-top:5px;display:inline-block;padding:0}.products-wrap li[_v-e1bfb006]{vertical-align:middle;position:relative;margin-right:30px;display:inline-block;list-style-type:none}.products-wrap li:hover .setFirst[_v-e1bfb006]{display:block}.setFirst[_v-e1bfb006]{display:none;position:absolute;top:90px;width:108px;margin-left:2px;cursor:pointer;z-index:2;background:#fff;color:#000;opacity:.7;text-align:center;font-size:14px}.sub[_v-e1bfb006]{vertical-align:sub}.category[_v-e1bfb006]{margin-right:20px}.mt20[_v-e1bfb006]{margin-top:20px}.middle[_v-e1bfb006]{vertical-align:middle}.font14[_v-e1bfb006]{font-size:14px}.mt15[_v-e1bfb006]{margin-top:15px}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/soyyin/addProduct.vue.style\"],\"names\":[],\"mappings\":\"AAyGA,kBACA,UAAA,AACA,kBAAA,CACA,AACA,mBACA,WAAA,CACA,AACA,sBACA,yBAAA,AACA,YAAA,CACA,AACA,2BACA,qBAAA,AACA,WAAA,AACA,YAAA,AACA,qBAAA,CACA,AACA,gDACA,YAAA,AACA,aAAA,AACA,gBAAA,AACA,eAAA,AACA,yBAAA,AACA,kBAAA,AACA,cAAA,AACA,kBAAA,AACA,eAAA,AACA,sBAAA,AACA,iBAAA,CACA,AACA,4BACA,sBAAA,AACA,eAAA,AACA,qBAAA,AACA,SAAA,CACA,AACA,+BACA,sBAAA,AACA,kBAAA,AACA,kBAAA,AACA,qBAAA,AACA,oBAAA,CACA,AACA,+CACA,aAAA,CACA,AACA,uBACA,aAAA,AACA,kBAAA,AACA,SAAA,AACA,YAAA,AACA,gBAAA,AACA,eAAA,AACA,UAAA,AACA,gBAAA,AACA,WAAA,AACA,WAAA,AACA,kBAAA,AACA,cAAA,CACA,AACA,kBACA,kBAAA,CACA,AACA,uBACA,iBAAA,CACA,AACA,mBACA,eAAA,CACA,AACA,qBACA,qBAAA,CACA,AACA,qBACA,cAAA,CACA,AACA,mBACA,eAAA,CACA\",\"file\":\"addProduct.vue\",\"sourcesContent\":[\"<template>\\n    <div class=\\\"container-fluid\\\">\\n        <ul class=\\\"breadcrumb\\\">\\n            <li>酱印网</li>\\n            <li>商品管理</li>\\n            <li>添加商品</li>\\n        </ul>\\n        <h2>添加商品</h2>\\n        <div class=\\\"content\\\">\\n            <div>\\n                <h4>商品名称 <span class=\\\"red\\\">*</span></h4>\\n                <input class=\\\"form-control input-sm w200\\\" type=\\\"text\\\">\\n            </div>\\n            <div class=\\\"mt20\\\">\\n                <h4>所属分组 <span class=\\\"red\\\">*</span></h4>\\n                <label v-for=\\\"item in categories\\\" class=\\\"category\\\">\\n                    <input class=\\\"form-control input-sm\\\" type=\\\"checkbox\\\" value=\\\"{{item.id}}\\\" v-model=\\\"checkedCategoryIds\\\">\\n                    <span class=\\\"sub\\\">{{item.name}}</span>\\n                </label>\\n            </div>\\n            <div class=\\\"mt20\\\">\\n                <h4>\\n                    封面图片\\n                    <span class=\\\"middle font14\\\">分辨率要求：40 * 40px</span>\\n                </h4>\\n                <div class=\\\"upload-cover mt15\\\" id=\\\"add-cover\\\">+</div>\\n            </div>\\n            <div class=\\\"mt20\\\">\\n                <h4>\\n                    商品图片\\n                    <span class=\\\"middle font14\\\">分辨率要求：800 * 800px</span>\\n                </h4>\\n                <ul class=\\\"products-wrap\\\">\\n                    <li class=\\\"product-item\\\" v-for=\\\"item of imgs\\\" track-by=\\\"Math.random()\\\">\\n                        <div class=\\\"upload\\\" id=\\\"upload-img{{$index}}\\\">{{{item}}}</div>\\n                        <div class=\\\"setFirst\\\" v-if=\\\"$index != 0\\\" @click=\\\"setFirst($index)\\\">设为第一张</div>\\n                    </li>\\n                </ul>\\n                <div class=\\\"btn btn-info middle\\\" @click=\\\"addImgBtn\\\">添加商品图片</div>\\n            </div>\\n        </div>\\n    </div>\\n</template>\\n\\n<script>\\n    import uploadUtil from '../../util/util-plupload';\\n\\n    export default {\\n        data() {\\n            return {\\n                categories: [],\\n                checkedCategoryIds: [],\\n                imgs: ['', '', '']\\n            }\\n        },\\n        ready(){\\n            this.getCategory();\\n            this.initUploadImgs();\\n            uploadUtil('add-cover');\\n        },\\n        methods: {\\n            getCategory(){\\n                this.$http.get('/api/v2/admin/products/category-brief-list')\\n                    .then((data) => {\\n                        this.categories = data.data.categories;\\n                    });\\n            },\\n            addImgBtn(){\\n                if (this.imgs.length < 5) {\\n                    this.imgs.push('');\\n                    this.$nextTick(function () {\\n                        this.initUploadImgs();\\n                    });\\n                }\\n            },\\n            initUploadImgs(){\\n                $(\\\".upload\\\").map(function (i, item) {\\n                    if (!$(item).hasClass(\\\"initUpload\\\")) {\\n                        uploadUtil($(item)[0].id);\\n                        $(item).addClass(\\\"initUpload\\\");\\n                    }\\n                });\\n            },\\n            setFirst(index){\\n                let item = document.getElementsByClassName('upload')[index].innerHTML;\\n                console.log(item.indexOf('--'));\\n                if (item.indexOf('--') > 0) {\\n                    console.log(1,item.slice(0, item.indexOf('--')));\\n                    this.imgs.$set(index, item.slice(0, item.indexOf('--') - 2));\\n                } else{\\n                    this.imgs.$set(index, item.slice(0, item.indexOf('--')));\\n                }\\n\\n                let temp = this.imgs[index];\\n                this.imgs.$set(index, this.imgs[0]);\\n                this.imgs.$set(0, temp);\\n                this.$nextTick(function(){\\n                    this.initUploadImgs();\\n                })\\n            }\\n        }\\n    }\\n</script>\\n\\n<style scoped>\\n    .red{\\n        color: red;\\n        vertical-align: sub;\\n    }\\n    .w200{\\n        width: 200px;\\n    }\\n    .content{\\n        border: 1px solid #ecf0f1;\\n        padding: 30px;\\n    }\\n    .form-control{\\n        display: inline-block;\\n        width: auto;\\n        height: auto;\\n        vertical-align: middle;\\n    }\\n    .upload,.upload-cover{\\n        width: 112px;\\n        height: 112px;\\n        font-weight: bold;\\n        font-size: 70px;\\n        border: 2px solid #dce4ec;\\n        border-radius: 2px;\\n        color: #ecf0f1;\\n        text-align: center;\\n        cursor: pointer;\\n        vertical-align: middle;\\n        line-height: 100px;\\n    }\\n    .products-wrap{\\n        vertical-align: middle;\\n        margin-top: 5px;\\n        display: inline-block;\\n        padding: 0;\\n    }\\n    .products-wrap li{\\n        vertical-align: middle;\\n        position: relative;\\n        margin-right: 30px;\\n        display: inline-block;\\n        list-style-type: none;\\n    }\\n    .products-wrap li:hover .setFirst{\\n        display: block;\\n    }\\n    .setFirst{\\n        display: none;\\n        position: absolute;\\n        top: 90px;\\n        width: 108px;\\n        margin-left: 2px;\\n        cursor: pointer;\\n        z-index: 2;\\n        background: white;\\n        color: black;\\n        opacity: .7;\\n        text-align: center;\\n        font-size: 14px;\\n    }\\n    .sub{\\n        vertical-align: sub;\\n    }\\n    .category{\\n        margin-right: 20px;\\n    }\\n    .mt20{\\n        margin-top: 20px;\\n    }\\n    .middle{\\n        vertical-align: middle;\\n    }\\n    .font14{\\n        font-size: 14px;\\n    }\\n    .mt15{\\n        margin-top: 15px;\\n    }\\n</style>\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=_v-e1bfb006&file=addProduct.vue&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/soyyin/addProduct.vue\n// module id = 232\n// module chunks = 14","<template>\n    <div class=\"container-fluid\">\n        <ul class=\"breadcrumb\">\n            <li>酱印网</li>\n            <li>商品管理</li>\n            <li>添加商品</li>\n        </ul>\n        <h2>添加商品</h2>\n        <div class=\"content\">\n            <div>\n                <h4>商品名称 <span class=\"red\">*</span></h4>\n                <input class=\"form-control input-sm w200\" type=\"text\">\n            </div>\n            <div class=\"mt20\">\n                <h4>所属分组 <span class=\"red\">*</span></h4>\n                <label v-for=\"item in categories\" class=\"category\">\n                    <input class=\"form-control input-sm\" type=\"checkbox\" value=\"{{item.id}}\" v-model=\"checkedCategoryIds\">\n                    <span class=\"sub\">{{item.name}}</span>\n                </label>\n            </div>\n            <div class=\"mt20\">\n                <h4>\n                    封面图片\n                    <span class=\"middle font14\">分辨率要求：40 * 40px</span>\n                </h4>\n                <div class=\"upload-cover mt15\" id=\"add-cover\">+</div>\n            </div>\n            <div class=\"mt20\">\n                <h4>\n                    商品图片\n                    <span class=\"middle font14\">分辨率要求：800 * 800px</span>\n                </h4>\n                <ul class=\"products-wrap\">\n                    <li class=\"product-item\" v-for=\"item of imgs\" track-by=\"Math.random()\">\n                        <div class=\"upload\" id=\"upload-img{{$index}}\">{{{item}}}</div>\n                        <div class=\"setFirst\" v-if=\"$index != 0\" @click=\"setFirst($index)\">设为第一张</div>\n                    </li>\n                </ul>\n                <div class=\"btn btn-info middle\" @click=\"addImgBtn\">添加商品图片</div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import uploadUtil from '../../util/util-plupload';\n\n    export default {\n        data() {\n            return {\n                categories: [],\n                checkedCategoryIds: [],\n                imgs: ['', '', '']\n            }\n        },\n        ready(){\n            this.getCategory();\n            this.initUploadImgs();\n            uploadUtil('add-cover');\n        },\n        methods: {\n            getCategory(){\n                this.$http.get('/api/v2/admin/products/category-brief-list')\n                    .then((data) => {\n                        this.categories = data.data.categories;\n                    });\n            },\n            addImgBtn(){\n                if (this.imgs.length < 5) {\n                    this.imgs.push('');\n                    this.$nextTick(function () {\n                        this.initUploadImgs();\n                    });\n                }\n            },\n            initUploadImgs(){\n                $(\".upload\").map(function (i, item) {\n                    if (!$(item).hasClass(\"initUpload\")) {\n                        uploadUtil($(item)[0].id);\n                        $(item).addClass(\"initUpload\");\n                    }\n                });\n            },\n            setFirst(index){\n                let item = document.getElementsByClassName('upload')[index].innerHTML;\n                console.log(item.indexOf('--'));\n                if (item.indexOf('--') > 0) {\n                    console.log(1,item.slice(0, item.indexOf('--')));\n                    this.imgs.$set(index, item.slice(0, item.indexOf('--') - 2));\n                } else{\n                    this.imgs.$set(index, item.slice(0, item.indexOf('--')));\n                }\n\n                let temp = this.imgs[index];\n                this.imgs.$set(index, this.imgs[0]);\n                this.imgs.$set(0, temp);\n                this.$nextTick(function(){\n                    this.initUploadImgs();\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .red{\n        color: red;\n        vertical-align: sub;\n    }\n    .w200{\n        width: 200px;\n    }\n    .content{\n        border: 1px solid #ecf0f1;\n        padding: 30px;\n    }\n    .form-control{\n        display: inline-block;\n        width: auto;\n        height: auto;\n        vertical-align: middle;\n    }\n    .upload,.upload-cover{\n        width: 112px;\n        height: 112px;\n        font-weight: bold;\n        font-size: 70px;\n        border: 2px solid #dce4ec;\n        border-radius: 2px;\n        color: #ecf0f1;\n        text-align: center;\n        cursor: pointer;\n        vertical-align: middle;\n        line-height: 100px;\n    }\n    .products-wrap{\n        vertical-align: middle;\n        margin-top: 5px;\n        display: inline-block;\n        padding: 0;\n    }\n    .products-wrap li{\n        vertical-align: middle;\n        position: relative;\n        margin-right: 30px;\n        display: inline-block;\n        list-style-type: none;\n    }\n    .products-wrap li:hover .setFirst{\n        display: block;\n    }\n    .setFirst{\n        display: none;\n        position: absolute;\n        top: 90px;\n        width: 108px;\n        margin-left: 2px;\n        cursor: pointer;\n        z-index: 2;\n        background: white;\n        color: black;\n        opacity: .7;\n        text-align: center;\n        font-size: 14px;\n    }\n    .sub{\n        vertical-align: sub;\n    }\n    .category{\n        margin-right: 20px;\n    }\n    .mt20{\n        margin-top: 20px;\n    }\n    .middle{\n        vertical-align: middle;\n    }\n    .font14{\n        font-size: 14px;\n    }\n    .mt15{\n        margin-top: 15px;\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// addProduct.vue?560e0846","/**\n * Created by humorHan on 16/12/12.\n */\nimport cdn from '../filters/cdnUrl';\n\nexport default function (id, fatherId) {\n\n    // 创建上传对象\n    var uploader = Qiniu.uploader({\n        //上传模式，依次退化\n        runtimes: 'html5,flash,html4',\n        //上传选择的点选按钮，**必需**\n        browse_button: id,\n        //Ajax请求upToken的Url，**强烈建议设置**（服务端提供）\n        //uptoken : '',\n        //设置上传文件的时候是否每次都重新获取新的uptoken\n        uptoken_url: '/api/v2/admin/others/uptoken-without-key',\n        //若未指定uptoken_url，则必须指定 uptoken，uptoken由其他程序生成\n        //在需要获取uptoken时，该方法会被调用\n        //uptoken_func: function(file) {\n        //},\n        //设置上传文件的时候是否每次都重新获取新的uptoken\n        get_new_uptoken: true,\n        //默认 false，key为文件名。若开启该选项，SDK会为每个文件自动生成key（文件名）\n        unique_names: false,\n        //默认 false。若在服务端生成uptoken的上传策略中指定了 `sava_key`，则开启，SDK在前端将不对key进行任何处理\n        save_key: true,\n        //bucket 域名，下载资源时用到，**必需**\n        //domain: 'http://source.soyyin.com/',\n        domain: cdn,\n        //上传区域DOM ID，默认是browser_button的父元素，\n        container: fatherId,\n        //最大文件体积限制\n        max_file_size: '100mb',\n        //引入flash，相对路径\n        flash_swf_url: 'https://cdn.staticfile.org/Plupload/2.1.1/Moxie.swf',\n        filters: {\n            mime_types: [\n                //只允许上传图片文件 （注意，extensions中，逗号后面不要加空格）\n                {title: \"图片文件\", extensions: \"jpg,gif,png,bmp,jpeg\"}\n            ]\n        },\n        //上传失败最大重试次数\n        max_retries: 3,\n        //开启可拖曳上传\n        dragdrop: true,\n        //拖曳上传区域元素的ID，拖曳文件或文件夹后可触发上传\n        drop_element: 'crops',\n        //分块上传时，每片的体积\n        chunk_size: '4mb',\n        //选择文件后自动上传，若关闭需要自己绑定事件触发上传\n        auto_start: true,\n        init: {\n            'FilesAdded': function (up, files) {\n                plupload.each(files, function (file) {\n                    // 文件添加进队列后,处理相关的事情\n                });\n            },\n            'BeforeUpload': function (up, file) {\n                // 每个文件上传前,处理相关的事情\n            },\n            'UploadProgress': function (up, file) {\n                // 显示进度条\n                //editor.showUploadProgress(file.percent);\n            },\n            'FileUploaded': function (up, file, info) {\n                // 每个文件上传成功后，处理相关的事情\n                // 其中 info 是文件上传成功后，服务端返回的json，形式如\n                // {\n                //    \"hash\": \"Fh8xVqod2MQ1mocfI4S4KpRL6D98\",\n                //    \"key\": \"gogopher.jpg\"\n                //  }\n                var domain = up.getOption('domain');\n                var res = $.parseJSON(info);\n                var sourceLink = domain + res.key; //获取上传成功后的文件的Url\n\n                //TODO 缩略图\n                var height = $(\"#\" + id).height();\n                var width = $(\"#\" + id).width();\n                $(\"#\" + id).html('<img src=\"' + sourceLink + '\" height=\"' + height + '\" width=\"' + width + '\" />').css(\"font-size\", 0);\n            },\n            'Error': function (up, err, errTip) {\n                alert(errTip);\n            },\n            'UploadComplete': function () {\n                //队列文件处理完毕后,处理相关的事情\n\n                // 隐藏进度条\n                //editor.hideUploadProgress();\n            },\n            //'Key': function(up, file) {\n            // 若想在前端对每个文件的key进行个性化处理，可以配置该函数\n            // 该配置必须要在 unique_names: false , save_key: false 时才生效\n            //    return key;\n            //}\n        }\n    });\n};\n\n\n// WEBPACK FOOTER //\n// ./src/util/util-plupload.js","module.exports = \" <div class=container-fluid _v-e1bfb006=\\\"\\\"> <ul class=breadcrumb _v-e1bfb006=\\\"\\\"> <li _v-e1bfb006=\\\"\\\">酱印网</li> <li _v-e1bfb006=\\\"\\\">商品管理</li> <li _v-e1bfb006=\\\"\\\">添加商品</li> </ul> <h2 _v-e1bfb006=\\\"\\\">添加商品</h2> <div class=content _v-e1bfb006=\\\"\\\"> <div _v-e1bfb006=\\\"\\\"> <h4 _v-e1bfb006=\\\"\\\">商品名称 <span class=red _v-e1bfb006=\\\"\\\">*</span></h4> <input class=\\\"form-control input-sm w200\\\" type=text _v-e1bfb006=\\\"\\\"> </div> <div class=mt20 _v-e1bfb006=\\\"\\\"> <h4 _v-e1bfb006=\\\"\\\">所属分组 <span class=red _v-e1bfb006=\\\"\\\">*</span></h4> <label v-for=\\\"item in categories\\\" class=category _v-e1bfb006=\\\"\\\"> <input class=\\\"form-control input-sm\\\" type=checkbox value={{item.id}} v-model=checkedCategoryIds _v-e1bfb006=\\\"\\\"> <span class=sub _v-e1bfb006=\\\"\\\">{{item.name}}</span> </label> </div> <div class=mt20 _v-e1bfb006=\\\"\\\"> <h4 _v-e1bfb006=\\\"\\\"> 封面图片 <span class=\\\"middle font14\\\" _v-e1bfb006=\\\"\\\">分辨率要求：40 * 40px</span> </h4> <div class=\\\"upload-cover mt15\\\" id=add-cover _v-e1bfb006=\\\"\\\">+</div> </div> <div class=mt20 _v-e1bfb006=\\\"\\\"> <h4 _v-e1bfb006=\\\"\\\"> 商品图片 <span class=\\\"middle font14\\\" _v-e1bfb006=\\\"\\\">分辨率要求：800 * 800px</span> </h4> <ul class=products-wrap _v-e1bfb006=\\\"\\\"> <li class=product-item v-for=\\\"item of imgs\\\" track-by=Math.random() _v-e1bfb006=\\\"\\\"> <div class=upload id=upload-img{{$index}} _v-e1bfb006=\\\"\\\">{{{item}}}</div> <div class=setFirst v-if=\\\"$index != 0\\\" @click=setFirst($index) _v-e1bfb006=\\\"\\\">设为第一张</div> </li> </ul> <div class=\\\"btn btn-info middle\\\" @click=addImgBtn _v-e1bfb006=\\\"\\\">添加商品图片</div> </div> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-e1bfb006&file=addProduct.vue!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/soyyin/addProduct.vue\n// module id = 235\n// module chunks = 14"],"sourceRoot":""}