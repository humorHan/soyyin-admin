{"version":3,"sources":["webpack:///chunks/2.js","webpack:///./src/views/order/list.vue","webpack:///./src/views/order/list.vue?0747","webpack:///./src/views/order/list.vue?366d","webpack:///list.vue","webpack:///./src/views/order/list.vue?7993"],"names":["webpackJsonp","47","module","exports","__webpack_require__","__vue_script__","__vue_template__","__esModule","default","options","template","48","content","id","locals","49","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","50","Object","defineProperty","value","_store","_filters","_rolePermission","name","data","type","sinceId","lists","permissionList","createOrder","permissionValidator","orderSystem","order","applyInvoice","soyyinOrderList","myOrderList","createByMeOrderList","allOrderList","filterType","customerKeyword","managerChoosed","managerList","filterParams","customer","managerId","ready","getManagerFlag","this","getList","getManager","methods","_this","url","$http","get","then","response","result","callback","success","arr","concat","orders","unique","$set","since_id","error","_this2","getManagerName","i","length","display_name","getFilterParams","getQueryDesc","51"],"mappings":"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","file":"chunks/2.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 47:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(48)\n\t__vue_script__ = __webpack_require__(50)\n\t__vue_template__ = __webpack_require__(51)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\n\n\n/***/ },\n\n/***/ 48:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(49);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(40)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-6ab49c64&file=list.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./list.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-6ab49c64&file=list.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./list.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 49:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(39)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".nav-pills>li>a[_v-6ab49c64]{cursor:pointer}.order-table[_v-6ab49c64]{table-layout:fixed}.order-table td[_v-6ab49c64],.order-table th[_v-6ab49c64]{text-align:center;vertical-align:middle}.order-table td .btn-link[_v-6ab49c64]{text-decoration:none;cursor:pointer}.order-table td .btn-link[_v-6ab49c64]:hover{text-decoration:underline}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/order/list.vue.style\"],\"names\":[],\"mappings\":\"AAyMA,6BACA,cAAA,CACA,AAEA,0BACA,kBAAA,CACA,AAEA,0DACA,kBAAA,AACA,qBAAA,CACA,AAEA,uCACA,qBAAA,AACA,cAAA,CACA,AAEA,6CACA,yBAAA,CACA\",\"file\":\"list.vue\",\"sourcesContent\":[\"<!-- orderList.vue -->\\n<template>\\n    <div class=\\\"container-fluid\\\">\\n        <ul class=\\\"breadcrumb\\\">\\n            <li>订单系统</li>\\n            <li>订单管理</li>\\n            <li>订单列表</li>\\n        </ul>\\n        <div class=\\\"pull-right\\\">\\n            <a class=\\\"btn btn-info btn-sm\\\" v-if=\\\"permissionList.applyInvoice\\\" v-link=\\\"{path: '/order/invoice'}\\\">合并开票</a>\\n            <a class=\\\"btn btn-info btn-sm\\\" v-if=\\\"permissionList.createOrder\\\" v-link=\\\"{path: '/order/create'}\\\">下单</a>\\n        </div>\\n        <ul class=\\\"nav nav-pills\\\">\\n            <li :class=\\\"{'active': type === 'UNHANDLED'}\\\" v-if=\\\"permissionList.soyyinOrderList\\\"><a @click=\\\"getList('UNHANDLED')\\\">未处理酱印网订单</a></li>\\n            <li :class=\\\"{'active': type === 'ASSIGNED'}\\\" v-if=\\\"permissionList.myOrderList\\\"><a @click=\\\"getList('ASSIGNED')\\\">我的订单</a></li>\\n            <li :class=\\\"{'active': type === 'CREATED'}\\\" v-if=\\\"permissionList.createByMeOrderList\\\"><a @click=\\\"getList('CREATED')\\\">由我创建</a></li>\\n            <li :class=\\\"{'active': type === 'ALL'}\\\" v-if=\\\"permissionList.allOrderList\\\"><a @click=\\\"getList('ALL')\\\">全部订单</a></li>\\n        </ul>\\n        <p class=\\\"clearfix\\\"></p>\\n        <form class=\\\"form-inline\\\" style=\\\"margin-bottom:10px;\\\" v-if=\\\"permissionList.soyyinOrderList || permissionList.myOrderList || permissionList.createByMeOrderList || permissionList.allOrderList\\\">\\n            <label class=\\\"control-label\\\" for=\\\"fitlerType\\\">筛选：</label>\\n            <select class=\\\"form-control input-sm\\\" id=\\\"fitlerType\\\" style=\\\"width:80px;\\\" v-model=\\\"filterType\\\">\\n                <option value=\\\"customer\\\">客户信息</option>\\n                <option value=\\\"manager\\\">客户经理</option>\\n            </select>\\n            <input v-if=\\\"filterType === 'customer'\\\" class=\\\"form-control input-sm\\\" style=\\\"width:120px;margin-left:20px;\\\" type=\\\"text\\\" placeholder=\\\"请输入客户信息\\\" v-model=\\\"customerKeyword\\\">\\n            <select v-else class=\\\"form-control input-sm\\\" style=\\\"width:120px;margin-left:20px;\\\" v-model=\\\"managerChoosed\\\" number>\\n                <option value=\\\"0\\\">全部</option>\\n                <option v-for=\\\"manager of managerList\\\" :value=\\\"manager.id\\\">{{manager.display_name}}</option>\\n            </select>\\n            <a class=\\\"btn btn-info btn-sm\\\" style=\\\"margin-left:30px;padding:6px 20px;\\\" @click=\\\"getList(type, '', getFilterParams())\\\">查询</a>\\n        </form>\\n        <h5 v-show=\\\"filterParams.customer || filterParams.managerId\\\">{{getQueryDesc()}}</h5>\\n        <table class=\\\"table table-bordered table-hover order-table\\\">\\n            <thead>\\n                <tr>\\n                    <th style=\\\"width:10%;\\\">订单日期</th>\\n                    <th style=\\\"width:10%;\\\">订单号</th>\\n                    <th style=\\\"width:20%;\\\">客户</th>\\n                    <th style=\\\"width:10%;\\\">客户经理</th>\\n                    <th style=\\\"width:12%;\\\">总价/利润</th>\\n                    <th style=\\\"width:10%;\\\">订单状态</th>\\n                    <th style=\\\"width:9%;\\\">开票情况</th>\\n                    <th style=\\\"width:10%;\\\">付款情况</th>\\n                    <th style=\\\"width:9%;\\\">操作</th>\\n                </tr>\\n            </thead>\\n            <tbody>\\n                <tr v-for=\\\"item of lists\\\">\\n                    <td>{{item.time | dateFormat 'toDate'}}</td>\\n                    <td>{{item.id}}</td>\\n                    <td>{{item.customer.name + (item.customer.company ? '/' + item.customer.company : '')}}</td>\\n                    <td>{{item.manager ? item.manager.display_name : ''}}</td>\\n                    <td>{{(item.amount + item.freight) | realPrice}}{{item.is_priced ? '' : '+?'}} / {{(item.status === 'FINISHED' ? (item.amount + item.freight - item.cost - item.extra_cost - item.logistics_cost - item.invoice_logistics_cost - item.refunded_amount) : '') | realPrice}}{{item.status === 'FINISHED' ? '' : '?'}}元</td>\\n                    <td :class=\\\"{'text-success': item.status === 'FINISHED', 'text-danger': item.status === 'CANCELED'}\\\">{{item.status | orderStatusFilter}}</td>\\n                    <td>{{item.invoiced_amount > 0 ? (item.invoiced_amount >= item.amount + item.freight ? '已开票' : '已部分开票') : ''}}</td>\\n                    <td>{{item.paid_amount > 0 ? (item.paid_amount === item.amount + item.freight ? '已付款' : '已付款' + Math.round(item.paid_amount / (item.amount + item.freight) *100) + '%') : ''}}</td>\\n                    <td><a class=\\\"btn-link\\\" v-link=\\\"{path:'/order/detail/'+item.id}\\\" target=\\\"_blank\\\">查看详情</a></td>\\n                </tr>\\n            </tbody>\\n        </table>\\n        <a class=\\\"btn btn-primary\\\" v-if=\\\"sinceId\\\" @click=\\\"getList(type, sinceId, filterParams)\\\">查看更多</a>\\n    </div>\\n</template>\\n\\n<script>\\nimport { callback } from '../../store'\\nimport { unique } from '../../filters'\\nimport { permissionValidator } from '../../store/rolePermission.js'\\n\\nexport default {\\n    name: 'OrderListView',\\n    data() {\\n        return {\\n            type: '',\\n            sinceId: '',\\n            lists: [],\\n            permissionList: {\\n                createOrder: permissionValidator.orderSystem.order.createOrder(),\\n                applyInvoice: permissionValidator.orderSystem.order.applyInvoice(),\\n                soyyinOrderList: permissionValidator.orderSystem.order.soyyinOrderList(),\\n                myOrderList: permissionValidator.orderSystem.order.myOrderList(),\\n                createByMeOrderList: permissionValidator.orderSystem.order.createByMeOrderList(),\\n                allOrderList: permissionValidator.orderSystem.order.allOrderList(),\\n            },\\n            filterType: 'customer',\\n            customerKeyword: '',\\n            managerChoosed: 0,\\n            managerList: [],\\n            filterParams: {\\n                customer: '',\\n                managerId: 0,\\n            },\\n        }\\n    },\\n    ready() {\\n        var getManagerFlag = true;\\n        if (this.permissionList.soyyinOrderList) {\\n            this.getList('UNHANDLED');\\n        } else if (this.permissionList.myOrderList) {\\n            this.getList('ASSIGNED');\\n        } else if (this.permissionList.createByMeOrderList) {\\n            this.getList('CREATED');\\n        } else if (this.permissionList.allOrderList) {\\n            this.getList('ALL');\\n        } else {\\n            getManagerFlag = false;\\n        }\\n        if (getManagerFlag) {\\n            this.getManager();\\n        }\\n    },\\n    methods: {\\n        getList(type, sinceId, filterParams) {\\n            var url = '/api/v2/admin/orders/list-v2?type=' + type;\\n            if (sinceId) {\\n                url += '&since_id=' + sinceId;\\n            }\\n            if (filterParams) {\\n                if (filterParams.customer) {\\n                    url += '&customer=' + filterParams.customer;\\n                } else if (filterParams.managerId) {\\n                    url += '&manager_id=' + filterParams.managerId;\\n                }\\n            }\\n            this.$http.get(url)\\n            .then((response) => {\\n                if (!response.data.result || response.data.result === 0) {\\n                    var arr = [];\\n                    if (sinceId) {\\n                        arr = this.lists.concat(response.data.orders);\\n                    } else {\\n                        arr = response.data.orders;\\n                    }\\n                    this.lists = unique(arr);\\n                    this.type = type;\\n                    this.$set(\\\"sinceId\\\", response.data.since_id || '');\\n                    if (filterParams) {\\n                        this.filterParams = filterParams;\\n                    } else {\\n                        this.filterParams = {\\n                            customer: '',\\n                            managerId: 0,\\n                        };\\n                    }\\n                } else {\\n                    callback.success(response.data);\\n                }\\n            },(response) => {\\n                callback.error(response);\\n            })\\n        },\\n        getManager() {\\n            var url = '/api/v2/admin/permissions/manager-list';\\n            this.$http.get(url)\\n            .then((response) => {\\n                if(!response.data.result || response.data.result === 0){\\n                    this.managerList = response.data.data;\\n                } else {\\n                    callback.success(response.data);\\n                }\\n            },(response) => {\\n                callback.error(response);\\n            })\\n        },\\n        getManagerName(managerId) {\\n            for (let i = 0; i < this.managerList.length; i++) {\\n                if (this.managerList[i].id === managerId) {\\n                    return this.managerList[i].display_name;\\n                }\\n            }\\n            return '';\\n        },\\n        getFilterParams() {\\n            var filterParams = {\\n                customer: '',\\n                managerId: 0,\\n            };\\n            if (this.filterType === 'customer') {\\n                filterParams.customer = this.customerKeyword;\\n            } else {\\n                filterParams.managerId = this.managerChoosed;\\n            }\\n            return filterParams;\\n        },\\n        getQueryDesc() {\\n            if (!this.filterParams.customer && !this.filterParams.managerId) {\\n                return;\\n            }\\n            if (this.filterParams.customer) {\\n                return '客户信息 {' + this.filterParams.customer + '} 的查询结果：';\\n            }\\n            if (this.filterParams.managerId) {\\n                return '客户经理 {' + this.getManagerName(this.filterParams.managerId) + '} 的查询结果：';\\n            }\\n        },\\n    }\\n}\\n</script>\\n\\n<style scoped>\\n.nav-pills > li > a{\\n    cursor: pointer;\\n}\\n\\n.order-table {\\n    table-layout: fixed;\\n}\\n\\n.order-table th, .order-table td{\\n    text-align: center;\\n    vertical-align: middle;\\n}\\n\\n.order-table td .btn-link {\\n    text-decoration: none;\\n    cursor: pointer;\\n}\\n\\n.order-table td .btn-link:hover {\\n    text-decoration: underline;\\n}\\n</style>\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 50:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _store = __webpack_require__(46);\n\t\n\tvar _filters = __webpack_require__(29);\n\t\n\tvar _rolePermission = __webpack_require__(43);\n\t\n\texports.default = {\n\t    name: 'OrderListView',\n\t    data: function data() {\n\t        return {\n\t            type: '',\n\t            sinceId: '',\n\t            lists: [],\n\t            permissionList: {\n\t                createOrder: _rolePermission.permissionValidator.orderSystem.order.createOrder(),\n\t                applyInvoice: _rolePermission.permissionValidator.orderSystem.order.applyInvoice(),\n\t                soyyinOrderList: _rolePermission.permissionValidator.orderSystem.order.soyyinOrderList(),\n\t                myOrderList: _rolePermission.permissionValidator.orderSystem.order.myOrderList(),\n\t                createByMeOrderList: _rolePermission.permissionValidator.orderSystem.order.createByMeOrderList(),\n\t                allOrderList: _rolePermission.permissionValidator.orderSystem.order.allOrderList()\n\t            },\n\t            filterType: 'customer',\n\t            customerKeyword: '',\n\t            managerChoosed: 0,\n\t            managerList: [],\n\t            filterParams: {\n\t                customer: '',\n\t                managerId: 0\n\t            }\n\t        };\n\t    },\n\t    ready: function ready() {\n\t        var getManagerFlag = true;\n\t        if (this.permissionList.soyyinOrderList) {\n\t            this.getList('UNHANDLED');\n\t        } else if (this.permissionList.myOrderList) {\n\t            this.getList('ASSIGNED');\n\t        } else if (this.permissionList.createByMeOrderList) {\n\t            this.getList('CREATED');\n\t        } else if (this.permissionList.allOrderList) {\n\t            this.getList('ALL');\n\t        } else {\n\t            getManagerFlag = false;\n\t        }\n\t        if (getManagerFlag) {\n\t            this.getManager();\n\t        }\n\t    },\n\t\n\t    methods: {\n\t        getList: function getList(type, sinceId, filterParams) {\n\t            var _this = this;\n\t\n\t            var url = '/api/v2/admin/orders/list-v2?type=' + type;\n\t            if (sinceId) {\n\t                url += '&since_id=' + sinceId;\n\t            }\n\t            if (filterParams) {\n\t                if (filterParams.customer) {\n\t                    url += '&customer=' + filterParams.customer;\n\t                } else if (filterParams.managerId) {\n\t                    url += '&manager_id=' + filterParams.managerId;\n\t                }\n\t            }\n\t            this.$http.get(url).then(function (response) {\n\t                if (!response.data.result || response.data.result === 0) {\n\t                    var arr = [];\n\t                    if (sinceId) {\n\t                        arr = _this.lists.concat(response.data.orders);\n\t                    } else {\n\t                        arr = response.data.orders;\n\t                    }\n\t                    _this.lists = (0, _filters.unique)(arr);\n\t                    _this.type = type;\n\t                    _this.$set(\"sinceId\", response.data.since_id || '');\n\t                    if (filterParams) {\n\t                        _this.filterParams = filterParams;\n\t                    } else {\n\t                        _this.filterParams = {\n\t                            customer: '',\n\t                            managerId: 0\n\t                        };\n\t                    }\n\t                } else {\n\t                    _store.callback.success(response.data);\n\t                }\n\t            }, function (response) {\n\t                _store.callback.error(response);\n\t            });\n\t        },\n\t        getManager: function getManager() {\n\t            var _this2 = this;\n\t\n\t            var url = '/api/v2/admin/permissions/manager-list';\n\t            this.$http.get(url).then(function (response) {\n\t                if (!response.data.result || response.data.result === 0) {\n\t                    _this2.managerList = response.data.data;\n\t                } else {\n\t                    _store.callback.success(response.data);\n\t                }\n\t            }, function (response) {\n\t                _store.callback.error(response);\n\t            });\n\t        },\n\t        getManagerName: function getManagerName(managerId) {\n\t            for (var i = 0; i < this.managerList.length; i++) {\n\t                if (this.managerList[i].id === managerId) {\n\t                    return this.managerList[i].display_name;\n\t                }\n\t            }\n\t            return '';\n\t        },\n\t        getFilterParams: function getFilterParams() {\n\t            var filterParams = {\n\t                customer: '',\n\t                managerId: 0\n\t            };\n\t            if (this.filterType === 'customer') {\n\t                filterParams.customer = this.customerKeyword;\n\t            } else {\n\t                filterParams.managerId = this.managerChoosed;\n\t            }\n\t            return filterParams;\n\t        },\n\t        getQueryDesc: function getQueryDesc() {\n\t            if (!this.filterParams.customer && !this.filterParams.managerId) {\n\t                return;\n\t            }\n\t            if (this.filterParams.customer) {\n\t                return '客户信息 {' + this.filterParams.customer + '} 的查询结果：';\n\t            }\n\t            if (this.filterParams.managerId) {\n\t                return '客户经理 {' + this.getManagerName(this.filterParams.managerId) + '} 的查询结果：';\n\t            }\n\t        }\n\t    }\n\t};\n\t// </script>\n\t//\n\t// <style scoped>\n\t// .nav-pills > li > a{\n\t//     cursor: pointer;\n\t// }\n\t//\n\t// .order-table {\n\t//     table-layout: fixed;\n\t// }\n\t//\n\t// .order-table th, .order-table td{\n\t//     text-align: center;\n\t//     vertical-align: middle;\n\t// }\n\t//\n\t// .order-table td .btn-link {\n\t//     text-decoration: none;\n\t//     cursor: pointer;\n\t// }\n\t//\n\t// .order-table td .btn-link:hover {\n\t//     text-decoration: underline;\n\t// }\n\t// </style>\n\t/* generated by vue-loader */\n\t// <!-- orderList.vue -->\n\t// <template>\n\t//     <div class=\"container-fluid\">\n\t//         <ul class=\"breadcrumb\">\n\t//             <li>订单系统</li>\n\t//             <li>订单管理</li>\n\t//             <li>订单列表</li>\n\t//         </ul>\n\t//         <div class=\"pull-right\">\n\t//             <a class=\"btn btn-info btn-sm\" v-if=\"permissionList.applyInvoice\" v-link=\"{path: '/order/invoice'}\">合并开票</a>\n\t//             <a class=\"btn btn-info btn-sm\" v-if=\"permissionList.createOrder\" v-link=\"{path: '/order/create'}\">下单</a>\n\t//         </div>\n\t//         <ul class=\"nav nav-pills\">\n\t//             <li :class=\"{'active': type === 'UNHANDLED'}\" v-if=\"permissionList.soyyinOrderList\"><a @click=\"getList('UNHANDLED')\">未处理酱印网订单</a></li>\n\t//             <li :class=\"{'active': type === 'ASSIGNED'}\" v-if=\"permissionList.myOrderList\"><a @click=\"getList('ASSIGNED')\">我的订单</a></li>\n\t//             <li :class=\"{'active': type === 'CREATED'}\" v-if=\"permissionList.createByMeOrderList\"><a @click=\"getList('CREATED')\">由我创建</a></li>\n\t//             <li :class=\"{'active': type === 'ALL'}\" v-if=\"permissionList.allOrderList\"><a @click=\"getList('ALL')\">全部订单</a></li>\n\t//         </ul>\n\t//         <p class=\"clearfix\"></p>\n\t//         <form class=\"form-inline\" style=\"margin-bottom:10px;\" v-if=\"permissionList.soyyinOrderList || permissionList.myOrderList || permissionList.createByMeOrderList || permissionList.allOrderList\">\n\t//             <label class=\"control-label\" for=\"fitlerType\">筛选：</label>\n\t//             <select class=\"form-control input-sm\" id=\"fitlerType\" style=\"width:80px;\" v-model=\"filterType\">\n\t//                 <option value=\"customer\">客户信息</option>\n\t//                 <option value=\"manager\">客户经理</option>\n\t//             </select>\n\t//             <input v-if=\"filterType === 'customer'\" class=\"form-control input-sm\" style=\"width:120px;margin-left:20px;\" type=\"text\" placeholder=\"请输入客户信息\" v-model=\"customerKeyword\">\n\t//             <select v-else class=\"form-control input-sm\" style=\"width:120px;margin-left:20px;\" v-model=\"managerChoosed\" number>\n\t//                 <option value=\"0\">全部</option>\n\t//                 <option v-for=\"manager of managerList\" :value=\"manager.id\">{{manager.display_name}}</option>\n\t//             </select>\n\t//             <a class=\"btn btn-info btn-sm\" style=\"margin-left:30px;padding:6px 20px;\" @click=\"getList(type, '', getFilterParams())\">查询</a>\n\t//         </form>\n\t//         <h5 v-show=\"filterParams.customer || filterParams.managerId\">{{getQueryDesc()}}</h5>\n\t//         <table class=\"table table-bordered table-hover order-table\">\n\t//             <thead>\n\t//                 <tr>\n\t//                     <th style=\"width:10%;\">订单日期</th>\n\t//                     <th style=\"width:10%;\">订单号</th>\n\t//                     <th style=\"width:20%;\">客户</th>\n\t//                     <th style=\"width:10%;\">客户经理</th>\n\t//                     <th style=\"width:12%;\">总价/利润</th>\n\t//                     <th style=\"width:10%;\">订单状态</th>\n\t//                     <th style=\"width:9%;\">开票情况</th>\n\t//                     <th style=\"width:10%;\">付款情况</th>\n\t//                     <th style=\"width:9%;\">操作</th>\n\t//                 </tr>\n\t//             </thead>\n\t//             <tbody>\n\t//                 <tr v-for=\"item of lists\">\n\t//                     <td>{{item.time | dateFormat 'toDate'}}</td>\n\t//                     <td>{{item.id}}</td>\n\t//                     <td>{{item.customer.name + (item.customer.company ? '/' + item.customer.company : '')}}</td>\n\t//                     <td>{{item.manager ? item.manager.display_name : ''}}</td>\n\t//                     <td>{{(item.amount + item.freight) | realPrice}}{{item.is_priced ? '' : '+?'}} / {{(item.status === 'FINISHED' ? (item.amount + item.freight - item.cost - item.extra_cost - item.logistics_cost - item.invoice_logistics_cost - item.refunded_amount) : '') | realPrice}}{{item.status === 'FINISHED' ? '' : '?'}}元</td>\n\t//                     <td :class=\"{'text-success': item.status === 'FINISHED', 'text-danger': item.status === 'CANCELED'}\">{{item.status | orderStatusFilter}}</td>\n\t//                     <td>{{item.invoiced_amount > 0 ? (item.invoiced_amount >= item.amount + item.freight ? '已开票' : '已部分开票') : ''}}</td>\n\t//                     <td>{{item.paid_amount > 0 ? (item.paid_amount === item.amount + item.freight ? '已付款' : '已付款' + Math.round(item.paid_amount / (item.amount + item.freight) *100) + '%') : ''}}</td>\n\t//                     <td><a class=\"btn-link\" v-link=\"{path:'/order/detail/'+item.id}\" target=\"_blank\">查看详情</a></td>\n\t//                 </tr>\n\t//             </tbody>\n\t//         </table>\n\t//         <a class=\"btn btn-primary\" v-if=\"sinceId\" @click=\"getList(type, sinceId, filterParams)\">查看更多</a>\n\t//     </div>\n\t// </template>\n\t//\n\t// <script>\n\n/***/ },\n\n/***/ 51:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=container-fluid _v-6ab49c64=\\\"\\\"> <ul class=breadcrumb _v-6ab49c64=\\\"\\\"> <li _v-6ab49c64=\\\"\\\">订单系统</li> <li _v-6ab49c64=\\\"\\\">订单管理</li> <li _v-6ab49c64=\\\"\\\">订单列表</li> </ul> <div class=pull-right _v-6ab49c64=\\\"\\\"> <a class=\\\"btn btn-info btn-sm\\\" v-if=permissionList.applyInvoice v-link=\\\"{path: '/order/invoice'}\\\" _v-6ab49c64=\\\"\\\">合并开票</a> <a class=\\\"btn btn-info btn-sm\\\" v-if=permissionList.createOrder v-link=\\\"{path: '/order/create'}\\\" _v-6ab49c64=\\\"\\\">下单</a> </div> <ul class=\\\"nav nav-pills\\\" _v-6ab49c64=\\\"\\\"> <li :class=\\\"{'active': type === 'UNHANDLED'}\\\" v-if=permissionList.soyyinOrderList _v-6ab49c64=\\\"\\\"><a @click=\\\"getList('UNHANDLED')\\\" _v-6ab49c64=\\\"\\\">未处理酱印网订单</a></li> <li :class=\\\"{'active': type === 'ASSIGNED'}\\\" v-if=permissionList.myOrderList _v-6ab49c64=\\\"\\\"><a @click=\\\"getList('ASSIGNED')\\\" _v-6ab49c64=\\\"\\\">我的订单</a></li> <li :class=\\\"{'active': type === 'CREATED'}\\\" v-if=permissionList.createByMeOrderList _v-6ab49c64=\\\"\\\"><a @click=\\\"getList('CREATED')\\\" _v-6ab49c64=\\\"\\\">由我创建</a></li> <li :class=\\\"{'active': type === 'ALL'}\\\" v-if=permissionList.allOrderList _v-6ab49c64=\\\"\\\"><a @click=\\\"getList('ALL')\\\" _v-6ab49c64=\\\"\\\">全部订单</a></li> </ul> <p class=clearfix _v-6ab49c64=\\\"\\\"></p> <form class=form-inline style=margin-bottom:10px v-if=\\\"permissionList.soyyinOrderList || permissionList.myOrderList || permissionList.createByMeOrderList || permissionList.allOrderList\\\" _v-6ab49c64=\\\"\\\"> <label class=control-label for=fitlerType _v-6ab49c64=\\\"\\\">筛选：</label> <select class=\\\"form-control input-sm\\\" id=fitlerType style=width:80px v-model=filterType _v-6ab49c64=\\\"\\\"> <option value=customer _v-6ab49c64=\\\"\\\">客户信息</option> <option value=manager _v-6ab49c64=\\\"\\\">客户经理</option> </select> <input v-if=\\\"filterType === 'customer'\\\" class=\\\"form-control input-sm\\\" style=width:120px;margin-left:20px type=text placeholder=请输入客户信息 v-model=customerKeyword _v-6ab49c64=\\\"\\\"> <select v-else=\\\"\\\" class=\\\"form-control input-sm\\\" style=width:120px;margin-left:20px v-model=managerChoosed number=\\\"\\\" _v-6ab49c64=\\\"\\\"> <option value=0 _v-6ab49c64=\\\"\\\">全部</option> <option v-for=\\\"manager of managerList\\\" :value=manager.id _v-6ab49c64=\\\"\\\">{{manager.display_name}}</option> </select> <a class=\\\"btn btn-info btn-sm\\\" style=\\\"margin-left:30px;padding:6px 20px\\\" @click=\\\"getList(type, '', getFilterParams())\\\" _v-6ab49c64=\\\"\\\">查询</a> </form> <h5 v-show=\\\"filterParams.customer || filterParams.managerId\\\" _v-6ab49c64=\\\"\\\">{{getQueryDesc()}}</h5> <table class=\\\"table table-bordered table-hover order-table\\\" _v-6ab49c64=\\\"\\\"> <thead _v-6ab49c64=\\\"\\\"> <tr _v-6ab49c64=\\\"\\\"> <th style=width:10% _v-6ab49c64=\\\"\\\">订单日期</th> <th style=width:10% _v-6ab49c64=\\\"\\\">订单号</th> <th style=width:20% _v-6ab49c64=\\\"\\\">客户</th> <th style=width:10% _v-6ab49c64=\\\"\\\">客户经理</th> <th style=width:12% _v-6ab49c64=\\\"\\\">总价/利润</th> <th style=width:10% _v-6ab49c64=\\\"\\\">订单状态</th> <th style=width:9% _v-6ab49c64=\\\"\\\">开票情况</th> <th style=width:10% _v-6ab49c64=\\\"\\\">付款情况</th> <th style=width:9% _v-6ab49c64=\\\"\\\">操作</th> </tr> </thead> <tbody _v-6ab49c64=\\\"\\\"> <tr v-for=\\\"item of lists\\\" _v-6ab49c64=\\\"\\\"> <td _v-6ab49c64=\\\"\\\">{{item.time | dateFormat 'toDate'}}</td> <td _v-6ab49c64=\\\"\\\">{{item.id}}</td> <td _v-6ab49c64=\\\"\\\">{{item.customer.name + (item.customer.company ? '/' + item.customer.company : '')}}</td> <td _v-6ab49c64=\\\"\\\">{{item.manager ? item.manager.display_name : ''}}</td> <td _v-6ab49c64=\\\"\\\">{{(item.amount + item.freight) | realPrice}}{{item.is_priced ? '' : '+?'}} / {{(item.status === 'FINISHED' ? (item.amount + item.freight - item.cost - item.extra_cost - item.logistics_cost - item.invoice_logistics_cost - item.refunded_amount) : '') | realPrice}}{{item.status === 'FINISHED' ? '' : '?'}}元</td> <td :class=\\\"{'text-success': item.status === 'FINISHED', 'text-danger': item.status === 'CANCELED'}\\\" _v-6ab49c64=\\\"\\\">{{item.status | orderStatusFilter}}</td> <td _v-6ab49c64=\\\"\\\">{{item.invoiced_amount &gt; 0 ? (item.invoiced_amount &gt;= item.amount + item.freight ? '已开票' : '已部分开票') : ''}}</td> <td _v-6ab49c64=\\\"\\\">{{item.paid_amount &gt; 0 ? (item.paid_amount === item.amount + item.freight ? '已付款' : '已付款' + Math.round(item.paid_amount / (item.amount + item.freight) *100) + '%') : ''}}</td> <td _v-6ab49c64=\\\"\\\"><a class=btn-link v-link=\\\"{path:'/order/detail/'+item.id}\\\" target=_blank _v-6ab49c64=\\\"\\\">查看详情</a></td> </tr> </tbody> </table> <a class=\\\"btn btn-primary\\\" v-if=sinceId @click=\\\"getList(type, sinceId, filterParams)\\\" _v-6ab49c64=\\\"\\\">查看更多</a> </div> \";\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// chunks/2.js","var __vue_script__, __vue_template__\nrequire(\"-!style-loader!css-loader?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-6ab49c64&file=list.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./list.vue\")\n__vue_script__ = require(\"-!babel-loader!./../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./list.vue\")\n__vue_template__ = require(\"-!vue-html-loader!./../../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-6ab49c64&file=list.vue!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./list.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/order/list.vue\n// module id = 47\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-6ab49c64&file=list.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./list.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-6ab49c64&file=list.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./list.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-6ab49c64&file=list.vue&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./list.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=_v-6ab49c64&file=list.vue&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/order/list.vue\n// module id = 48\n// module chunks = 2","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".nav-pills>li>a[_v-6ab49c64]{cursor:pointer}.order-table[_v-6ab49c64]{table-layout:fixed}.order-table td[_v-6ab49c64],.order-table th[_v-6ab49c64]{text-align:center;vertical-align:middle}.order-table td .btn-link[_v-6ab49c64]{text-decoration:none;cursor:pointer}.order-table td .btn-link[_v-6ab49c64]:hover{text-decoration:underline}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/order/list.vue.style\"],\"names\":[],\"mappings\":\"AAyMA,6BACA,cAAA,CACA,AAEA,0BACA,kBAAA,CACA,AAEA,0DACA,kBAAA,AACA,qBAAA,CACA,AAEA,uCACA,qBAAA,AACA,cAAA,CACA,AAEA,6CACA,yBAAA,CACA\",\"file\":\"list.vue\",\"sourcesContent\":[\"<!-- orderList.vue -->\\n<template>\\n    <div class=\\\"container-fluid\\\">\\n        <ul class=\\\"breadcrumb\\\">\\n            <li>订单系统</li>\\n            <li>订单管理</li>\\n            <li>订单列表</li>\\n        </ul>\\n        <div class=\\\"pull-right\\\">\\n            <a class=\\\"btn btn-info btn-sm\\\" v-if=\\\"permissionList.applyInvoice\\\" v-link=\\\"{path: '/order/invoice'}\\\">合并开票</a>\\n            <a class=\\\"btn btn-info btn-sm\\\" v-if=\\\"permissionList.createOrder\\\" v-link=\\\"{path: '/order/create'}\\\">下单</a>\\n        </div>\\n        <ul class=\\\"nav nav-pills\\\">\\n            <li :class=\\\"{'active': type === 'UNHANDLED'}\\\" v-if=\\\"permissionList.soyyinOrderList\\\"><a @click=\\\"getList('UNHANDLED')\\\">未处理酱印网订单</a></li>\\n            <li :class=\\\"{'active': type === 'ASSIGNED'}\\\" v-if=\\\"permissionList.myOrderList\\\"><a @click=\\\"getList('ASSIGNED')\\\">我的订单</a></li>\\n            <li :class=\\\"{'active': type === 'CREATED'}\\\" v-if=\\\"permissionList.createByMeOrderList\\\"><a @click=\\\"getList('CREATED')\\\">由我创建</a></li>\\n            <li :class=\\\"{'active': type === 'ALL'}\\\" v-if=\\\"permissionList.allOrderList\\\"><a @click=\\\"getList('ALL')\\\">全部订单</a></li>\\n        </ul>\\n        <p class=\\\"clearfix\\\"></p>\\n        <form class=\\\"form-inline\\\" style=\\\"margin-bottom:10px;\\\" v-if=\\\"permissionList.soyyinOrderList || permissionList.myOrderList || permissionList.createByMeOrderList || permissionList.allOrderList\\\">\\n            <label class=\\\"control-label\\\" for=\\\"fitlerType\\\">筛选：</label>\\n            <select class=\\\"form-control input-sm\\\" id=\\\"fitlerType\\\" style=\\\"width:80px;\\\" v-model=\\\"filterType\\\">\\n                <option value=\\\"customer\\\">客户信息</option>\\n                <option value=\\\"manager\\\">客户经理</option>\\n            </select>\\n            <input v-if=\\\"filterType === 'customer'\\\" class=\\\"form-control input-sm\\\" style=\\\"width:120px;margin-left:20px;\\\" type=\\\"text\\\" placeholder=\\\"请输入客户信息\\\" v-model=\\\"customerKeyword\\\">\\n            <select v-else class=\\\"form-control input-sm\\\" style=\\\"width:120px;margin-left:20px;\\\" v-model=\\\"managerChoosed\\\" number>\\n                <option value=\\\"0\\\">全部</option>\\n                <option v-for=\\\"manager of managerList\\\" :value=\\\"manager.id\\\">{{manager.display_name}}</option>\\n            </select>\\n            <a class=\\\"btn btn-info btn-sm\\\" style=\\\"margin-left:30px;padding:6px 20px;\\\" @click=\\\"getList(type, '', getFilterParams())\\\">查询</a>\\n        </form>\\n        <h5 v-show=\\\"filterParams.customer || filterParams.managerId\\\">{{getQueryDesc()}}</h5>\\n        <table class=\\\"table table-bordered table-hover order-table\\\">\\n            <thead>\\n                <tr>\\n                    <th style=\\\"width:10%;\\\">订单日期</th>\\n                    <th style=\\\"width:10%;\\\">订单号</th>\\n                    <th style=\\\"width:20%;\\\">客户</th>\\n                    <th style=\\\"width:10%;\\\">客户经理</th>\\n                    <th style=\\\"width:12%;\\\">总价/利润</th>\\n                    <th style=\\\"width:10%;\\\">订单状态</th>\\n                    <th style=\\\"width:9%;\\\">开票情况</th>\\n                    <th style=\\\"width:10%;\\\">付款情况</th>\\n                    <th style=\\\"width:9%;\\\">操作</th>\\n                </tr>\\n            </thead>\\n            <tbody>\\n                <tr v-for=\\\"item of lists\\\">\\n                    <td>{{item.time | dateFormat 'toDate'}}</td>\\n                    <td>{{item.id}}</td>\\n                    <td>{{item.customer.name + (item.customer.company ? '/' + item.customer.company : '')}}</td>\\n                    <td>{{item.manager ? item.manager.display_name : ''}}</td>\\n                    <td>{{(item.amount + item.freight) | realPrice}}{{item.is_priced ? '' : '+?'}} / {{(item.status === 'FINISHED' ? (item.amount + item.freight - item.cost - item.extra_cost - item.logistics_cost - item.invoice_logistics_cost - item.refunded_amount) : '') | realPrice}}{{item.status === 'FINISHED' ? '' : '?'}}元</td>\\n                    <td :class=\\\"{'text-success': item.status === 'FINISHED', 'text-danger': item.status === 'CANCELED'}\\\">{{item.status | orderStatusFilter}}</td>\\n                    <td>{{item.invoiced_amount > 0 ? (item.invoiced_amount >= item.amount + item.freight ? '已开票' : '已部分开票') : ''}}</td>\\n                    <td>{{item.paid_amount > 0 ? (item.paid_amount === item.amount + item.freight ? '已付款' : '已付款' + Math.round(item.paid_amount / (item.amount + item.freight) *100) + '%') : ''}}</td>\\n                    <td><a class=\\\"btn-link\\\" v-link=\\\"{path:'/order/detail/'+item.id}\\\" target=\\\"_blank\\\">查看详情</a></td>\\n                </tr>\\n            </tbody>\\n        </table>\\n        <a class=\\\"btn btn-primary\\\" v-if=\\\"sinceId\\\" @click=\\\"getList(type, sinceId, filterParams)\\\">查看更多</a>\\n    </div>\\n</template>\\n\\n<script>\\nimport { callback } from '../../store'\\nimport { unique } from '../../filters'\\nimport { permissionValidator } from '../../store/rolePermission.js'\\n\\nexport default {\\n    name: 'OrderListView',\\n    data() {\\n        return {\\n            type: '',\\n            sinceId: '',\\n            lists: [],\\n            permissionList: {\\n                createOrder: permissionValidator.orderSystem.order.createOrder(),\\n                applyInvoice: permissionValidator.orderSystem.order.applyInvoice(),\\n                soyyinOrderList: permissionValidator.orderSystem.order.soyyinOrderList(),\\n                myOrderList: permissionValidator.orderSystem.order.myOrderList(),\\n                createByMeOrderList: permissionValidator.orderSystem.order.createByMeOrderList(),\\n                allOrderList: permissionValidator.orderSystem.order.allOrderList(),\\n            },\\n            filterType: 'customer',\\n            customerKeyword: '',\\n            managerChoosed: 0,\\n            managerList: [],\\n            filterParams: {\\n                customer: '',\\n                managerId: 0,\\n            },\\n        }\\n    },\\n    ready() {\\n        var getManagerFlag = true;\\n        if (this.permissionList.soyyinOrderList) {\\n            this.getList('UNHANDLED');\\n        } else if (this.permissionList.myOrderList) {\\n            this.getList('ASSIGNED');\\n        } else if (this.permissionList.createByMeOrderList) {\\n            this.getList('CREATED');\\n        } else if (this.permissionList.allOrderList) {\\n            this.getList('ALL');\\n        } else {\\n            getManagerFlag = false;\\n        }\\n        if (getManagerFlag) {\\n            this.getManager();\\n        }\\n    },\\n    methods: {\\n        getList(type, sinceId, filterParams) {\\n            var url = '/api/v2/admin/orders/list-v2?type=' + type;\\n            if (sinceId) {\\n                url += '&since_id=' + sinceId;\\n            }\\n            if (filterParams) {\\n                if (filterParams.customer) {\\n                    url += '&customer=' + filterParams.customer;\\n                } else if (filterParams.managerId) {\\n                    url += '&manager_id=' + filterParams.managerId;\\n                }\\n            }\\n            this.$http.get(url)\\n            .then((response) => {\\n                if (!response.data.result || response.data.result === 0) {\\n                    var arr = [];\\n                    if (sinceId) {\\n                        arr = this.lists.concat(response.data.orders);\\n                    } else {\\n                        arr = response.data.orders;\\n                    }\\n                    this.lists = unique(arr);\\n                    this.type = type;\\n                    this.$set(\\\"sinceId\\\", response.data.since_id || '');\\n                    if (filterParams) {\\n                        this.filterParams = filterParams;\\n                    } else {\\n                        this.filterParams = {\\n                            customer: '',\\n                            managerId: 0,\\n                        };\\n                    }\\n                } else {\\n                    callback.success(response.data);\\n                }\\n            },(response) => {\\n                callback.error(response);\\n            })\\n        },\\n        getManager() {\\n            var url = '/api/v2/admin/permissions/manager-list';\\n            this.$http.get(url)\\n            .then((response) => {\\n                if(!response.data.result || response.data.result === 0){\\n                    this.managerList = response.data.data;\\n                } else {\\n                    callback.success(response.data);\\n                }\\n            },(response) => {\\n                callback.error(response);\\n            })\\n        },\\n        getManagerName(managerId) {\\n            for (let i = 0; i < this.managerList.length; i++) {\\n                if (this.managerList[i].id === managerId) {\\n                    return this.managerList[i].display_name;\\n                }\\n            }\\n            return '';\\n        },\\n        getFilterParams() {\\n            var filterParams = {\\n                customer: '',\\n                managerId: 0,\\n            };\\n            if (this.filterType === 'customer') {\\n                filterParams.customer = this.customerKeyword;\\n            } else {\\n                filterParams.managerId = this.managerChoosed;\\n            }\\n            return filterParams;\\n        },\\n        getQueryDesc() {\\n            if (!this.filterParams.customer && !this.filterParams.managerId) {\\n                return;\\n            }\\n            if (this.filterParams.customer) {\\n                return '客户信息 {' + this.filterParams.customer + '} 的查询结果：';\\n            }\\n            if (this.filterParams.managerId) {\\n                return '客户经理 {' + this.getManagerName(this.filterParams.managerId) + '} 的查询结果：';\\n            }\\n        },\\n    }\\n}\\n</script>\\n\\n<style scoped>\\n.nav-pills > li > a{\\n    cursor: pointer;\\n}\\n\\n.order-table {\\n    table-layout: fixed;\\n}\\n\\n.order-table th, .order-table td{\\n    text-align: center;\\n    vertical-align: middle;\\n}\\n\\n.order-table td .btn-link {\\n    text-decoration: none;\\n    cursor: pointer;\\n}\\n\\n.order-table td .btn-link:hover {\\n    text-decoration: underline;\\n}\\n</style>\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=_v-6ab49c64&file=list.vue&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/order/list.vue\n// module id = 49\n// module chunks = 2","<!-- orderList.vue -->\n<template>\n    <div class=\"container-fluid\">\n        <ul class=\"breadcrumb\">\n            <li>订单系统</li>\n            <li>订单管理</li>\n            <li>订单列表</li>\n        </ul>\n        <div class=\"pull-right\">\n            <a class=\"btn btn-info btn-sm\" v-if=\"permissionList.applyInvoice\" v-link=\"{path: '/order/invoice'}\">合并开票</a>\n            <a class=\"btn btn-info btn-sm\" v-if=\"permissionList.createOrder\" v-link=\"{path: '/order/create'}\">下单</a>\n        </div>\n        <ul class=\"nav nav-pills\">\n            <li :class=\"{'active': type === 'UNHANDLED'}\" v-if=\"permissionList.soyyinOrderList\"><a @click=\"getList('UNHANDLED')\">未处理酱印网订单</a></li>\n            <li :class=\"{'active': type === 'ASSIGNED'}\" v-if=\"permissionList.myOrderList\"><a @click=\"getList('ASSIGNED')\">我的订单</a></li>\n            <li :class=\"{'active': type === 'CREATED'}\" v-if=\"permissionList.createByMeOrderList\"><a @click=\"getList('CREATED')\">由我创建</a></li>\n            <li :class=\"{'active': type === 'ALL'}\" v-if=\"permissionList.allOrderList\"><a @click=\"getList('ALL')\">全部订单</a></li>\n        </ul>\n        <p class=\"clearfix\"></p>\n        <form class=\"form-inline\" style=\"margin-bottom:10px;\" v-if=\"permissionList.soyyinOrderList || permissionList.myOrderList || permissionList.createByMeOrderList || permissionList.allOrderList\">\n            <label class=\"control-label\" for=\"fitlerType\">筛选：</label>\n            <select class=\"form-control input-sm\" id=\"fitlerType\" style=\"width:80px;\" v-model=\"filterType\">\n                <option value=\"customer\">客户信息</option>\n                <option value=\"manager\">客户经理</option>\n            </select>\n            <input v-if=\"filterType === 'customer'\" class=\"form-control input-sm\" style=\"width:120px;margin-left:20px;\" type=\"text\" placeholder=\"请输入客户信息\" v-model=\"customerKeyword\">\n            <select v-else class=\"form-control input-sm\" style=\"width:120px;margin-left:20px;\" v-model=\"managerChoosed\" number>\n                <option value=\"0\">全部</option>\n                <option v-for=\"manager of managerList\" :value=\"manager.id\">{{manager.display_name}}</option>\n            </select>\n            <a class=\"btn btn-info btn-sm\" style=\"margin-left:30px;padding:6px 20px;\" @click=\"getList(type, '', getFilterParams())\">查询</a>\n        </form>\n        <h5 v-show=\"filterParams.customer || filterParams.managerId\">{{getQueryDesc()}}</h5>\n        <table class=\"table table-bordered table-hover order-table\">\n            <thead>\n                <tr>\n                    <th style=\"width:10%;\">订单日期</th>\n                    <th style=\"width:10%;\">订单号</th>\n                    <th style=\"width:20%;\">客户</th>\n                    <th style=\"width:10%;\">客户经理</th>\n                    <th style=\"width:12%;\">总价/利润</th>\n                    <th style=\"width:10%;\">订单状态</th>\n                    <th style=\"width:9%;\">开票情况</th>\n                    <th style=\"width:10%;\">付款情况</th>\n                    <th style=\"width:9%;\">操作</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"item of lists\">\n                    <td>{{item.time | dateFormat 'toDate'}}</td>\n                    <td>{{item.id}}</td>\n                    <td>{{item.customer.name + (item.customer.company ? '/' + item.customer.company : '')}}</td>\n                    <td>{{item.manager ? item.manager.display_name : ''}}</td>\n                    <td>{{(item.amount + item.freight) | realPrice}}{{item.is_priced ? '' : '+?'}} / {{(item.status === 'FINISHED' ? (item.amount + item.freight - item.cost - item.extra_cost - item.logistics_cost - item.invoice_logistics_cost - item.refunded_amount) : '') | realPrice}}{{item.status === 'FINISHED' ? '' : '?'}}元</td>\n                    <td :class=\"{'text-success': item.status === 'FINISHED', 'text-danger': item.status === 'CANCELED'}\">{{item.status | orderStatusFilter}}</td>\n                    <td>{{item.invoiced_amount > 0 ? (item.invoiced_amount >= item.amount + item.freight ? '已开票' : '已部分开票') : ''}}</td>\n                    <td>{{item.paid_amount > 0 ? (item.paid_amount === item.amount + item.freight ? '已付款' : '已付款' + Math.round(item.paid_amount / (item.amount + item.freight) *100) + '%') : ''}}</td>\n                    <td><a class=\"btn-link\" v-link=\"{path:'/order/detail/'+item.id}\" target=\"_blank\">查看详情</a></td>\n                </tr>\n            </tbody>\n        </table>\n        <a class=\"btn btn-primary\" v-if=\"sinceId\" @click=\"getList(type, sinceId, filterParams)\">查看更多</a>\n    </div>\n</template>\n\n<script>\nimport { callback } from '../../store'\nimport { unique } from '../../filters'\nimport { permissionValidator } from '../../store/rolePermission.js'\n\nexport default {\n    name: 'OrderListView',\n    data() {\n        return {\n            type: '',\n            sinceId: '',\n            lists: [],\n            permissionList: {\n                createOrder: permissionValidator.orderSystem.order.createOrder(),\n                applyInvoice: permissionValidator.orderSystem.order.applyInvoice(),\n                soyyinOrderList: permissionValidator.orderSystem.order.soyyinOrderList(),\n                myOrderList: permissionValidator.orderSystem.order.myOrderList(),\n                createByMeOrderList: permissionValidator.orderSystem.order.createByMeOrderList(),\n                allOrderList: permissionValidator.orderSystem.order.allOrderList(),\n            },\n            filterType: 'customer',\n            customerKeyword: '',\n            managerChoosed: 0,\n            managerList: [],\n            filterParams: {\n                customer: '',\n                managerId: 0,\n            },\n        }\n    },\n    ready() {\n        var getManagerFlag = true;\n        if (this.permissionList.soyyinOrderList) {\n            this.getList('UNHANDLED');\n        } else if (this.permissionList.myOrderList) {\n            this.getList('ASSIGNED');\n        } else if (this.permissionList.createByMeOrderList) {\n            this.getList('CREATED');\n        } else if (this.permissionList.allOrderList) {\n            this.getList('ALL');\n        } else {\n            getManagerFlag = false;\n        }\n        if (getManagerFlag) {\n            this.getManager();\n        }\n    },\n    methods: {\n        getList(type, sinceId, filterParams) {\n            var url = '/api/v2/admin/orders/list-v2?type=' + type;\n            if (sinceId) {\n                url += '&since_id=' + sinceId;\n            }\n            if (filterParams) {\n                if (filterParams.customer) {\n                    url += '&customer=' + filterParams.customer;\n                } else if (filterParams.managerId) {\n                    url += '&manager_id=' + filterParams.managerId;\n                }\n            }\n            this.$http.get(url)\n            .then((response) => {\n                if (!response.data.result || response.data.result === 0) {\n                    var arr = [];\n                    if (sinceId) {\n                        arr = this.lists.concat(response.data.orders);\n                    } else {\n                        arr = response.data.orders;\n                    }\n                    this.lists = unique(arr);\n                    this.type = type;\n                    this.$set(\"sinceId\", response.data.since_id || '');\n                    if (filterParams) {\n                        this.filterParams = filterParams;\n                    } else {\n                        this.filterParams = {\n                            customer: '',\n                            managerId: 0,\n                        };\n                    }\n                } else {\n                    callback.success(response.data);\n                }\n            },(response) => {\n                callback.error(response);\n            })\n        },\n        getManager() {\n            var url = '/api/v2/admin/permissions/manager-list';\n            this.$http.get(url)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0){\n                    this.managerList = response.data.data;\n                } else {\n                    callback.success(response.data);\n                }\n            },(response) => {\n                callback.error(response);\n            })\n        },\n        getManagerName(managerId) {\n            for (let i = 0; i < this.managerList.length; i++) {\n                if (this.managerList[i].id === managerId) {\n                    return this.managerList[i].display_name;\n                }\n            }\n            return '';\n        },\n        getFilterParams() {\n            var filterParams = {\n                customer: '',\n                managerId: 0,\n            };\n            if (this.filterType === 'customer') {\n                filterParams.customer = this.customerKeyword;\n            } else {\n                filterParams.managerId = this.managerChoosed;\n            }\n            return filterParams;\n        },\n        getQueryDesc() {\n            if (!this.filterParams.customer && !this.filterParams.managerId) {\n                return;\n            }\n            if (this.filterParams.customer) {\n                return '客户信息 {' + this.filterParams.customer + '} 的查询结果：';\n            }\n            if (this.filterParams.managerId) {\n                return '客户经理 {' + this.getManagerName(this.filterParams.managerId) + '} 的查询结果：';\n            }\n        },\n    }\n}\n</script>\n\n<style scoped>\n.nav-pills > li > a{\n    cursor: pointer;\n}\n\n.order-table {\n    table-layout: fixed;\n}\n\n.order-table th, .order-table td{\n    text-align: center;\n    vertical-align: middle;\n}\n\n.order-table td .btn-link {\n    text-decoration: none;\n    cursor: pointer;\n}\n\n.order-table td .btn-link:hover {\n    text-decoration: underline;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// list.vue?e30aec5c","module.exports = \" <div class=container-fluid _v-6ab49c64=\\\"\\\"> <ul class=breadcrumb _v-6ab49c64=\\\"\\\"> <li _v-6ab49c64=\\\"\\\">订单系统</li> <li _v-6ab49c64=\\\"\\\">订单管理</li> <li _v-6ab49c64=\\\"\\\">订单列表</li> </ul> <div class=pull-right _v-6ab49c64=\\\"\\\"> <a class=\\\"btn btn-info btn-sm\\\" v-if=permissionList.applyInvoice v-link=\\\"{path: '/order/invoice'}\\\" _v-6ab49c64=\\\"\\\">合并开票</a> <a class=\\\"btn btn-info btn-sm\\\" v-if=permissionList.createOrder v-link=\\\"{path: '/order/create'}\\\" _v-6ab49c64=\\\"\\\">下单</a> </div> <ul class=\\\"nav nav-pills\\\" _v-6ab49c64=\\\"\\\"> <li :class=\\\"{'active': type === 'UNHANDLED'}\\\" v-if=permissionList.soyyinOrderList _v-6ab49c64=\\\"\\\"><a @click=\\\"getList('UNHANDLED')\\\" _v-6ab49c64=\\\"\\\">未处理酱印网订单</a></li> <li :class=\\\"{'active': type === 'ASSIGNED'}\\\" v-if=permissionList.myOrderList _v-6ab49c64=\\\"\\\"><a @click=\\\"getList('ASSIGNED')\\\" _v-6ab49c64=\\\"\\\">我的订单</a></li> <li :class=\\\"{'active': type === 'CREATED'}\\\" v-if=permissionList.createByMeOrderList _v-6ab49c64=\\\"\\\"><a @click=\\\"getList('CREATED')\\\" _v-6ab49c64=\\\"\\\">由我创建</a></li> <li :class=\\\"{'active': type === 'ALL'}\\\" v-if=permissionList.allOrderList _v-6ab49c64=\\\"\\\"><a @click=\\\"getList('ALL')\\\" _v-6ab49c64=\\\"\\\">全部订单</a></li> </ul> <p class=clearfix _v-6ab49c64=\\\"\\\"></p> <form class=form-inline style=margin-bottom:10px v-if=\\\"permissionList.soyyinOrderList || permissionList.myOrderList || permissionList.createByMeOrderList || permissionList.allOrderList\\\" _v-6ab49c64=\\\"\\\"> <label class=control-label for=fitlerType _v-6ab49c64=\\\"\\\">筛选：</label> <select class=\\\"form-control input-sm\\\" id=fitlerType style=width:80px v-model=filterType _v-6ab49c64=\\\"\\\"> <option value=customer _v-6ab49c64=\\\"\\\">客户信息</option> <option value=manager _v-6ab49c64=\\\"\\\">客户经理</option> </select> <input v-if=\\\"filterType === 'customer'\\\" class=\\\"form-control input-sm\\\" style=width:120px;margin-left:20px type=text placeholder=请输入客户信息 v-model=customerKeyword _v-6ab49c64=\\\"\\\"> <select v-else=\\\"\\\" class=\\\"form-control input-sm\\\" style=width:120px;margin-left:20px v-model=managerChoosed number=\\\"\\\" _v-6ab49c64=\\\"\\\"> <option value=0 _v-6ab49c64=\\\"\\\">全部</option> <option v-for=\\\"manager of managerList\\\" :value=manager.id _v-6ab49c64=\\\"\\\">{{manager.display_name}}</option> </select> <a class=\\\"btn btn-info btn-sm\\\" style=\\\"margin-left:30px;padding:6px 20px\\\" @click=\\\"getList(type, '', getFilterParams())\\\" _v-6ab49c64=\\\"\\\">查询</a> </form> <h5 v-show=\\\"filterParams.customer || filterParams.managerId\\\" _v-6ab49c64=\\\"\\\">{{getQueryDesc()}}</h5> <table class=\\\"table table-bordered table-hover order-table\\\" _v-6ab49c64=\\\"\\\"> <thead _v-6ab49c64=\\\"\\\"> <tr _v-6ab49c64=\\\"\\\"> <th style=width:10% _v-6ab49c64=\\\"\\\">订单日期</th> <th style=width:10% _v-6ab49c64=\\\"\\\">订单号</th> <th style=width:20% _v-6ab49c64=\\\"\\\">客户</th> <th style=width:10% _v-6ab49c64=\\\"\\\">客户经理</th> <th style=width:12% _v-6ab49c64=\\\"\\\">总价/利润</th> <th style=width:10% _v-6ab49c64=\\\"\\\">订单状态</th> <th style=width:9% _v-6ab49c64=\\\"\\\">开票情况</th> <th style=width:10% _v-6ab49c64=\\\"\\\">付款情况</th> <th style=width:9% _v-6ab49c64=\\\"\\\">操作</th> </tr> </thead> <tbody _v-6ab49c64=\\\"\\\"> <tr v-for=\\\"item of lists\\\" _v-6ab49c64=\\\"\\\"> <td _v-6ab49c64=\\\"\\\">{{item.time | dateFormat 'toDate'}}</td> <td _v-6ab49c64=\\\"\\\">{{item.id}}</td> <td _v-6ab49c64=\\\"\\\">{{item.customer.name + (item.customer.company ? '/' + item.customer.company : '')}}</td> <td _v-6ab49c64=\\\"\\\">{{item.manager ? item.manager.display_name : ''}}</td> <td _v-6ab49c64=\\\"\\\">{{(item.amount + item.freight) | realPrice}}{{item.is_priced ? '' : '+?'}} / {{(item.status === 'FINISHED' ? (item.amount + item.freight - item.cost - item.extra_cost - item.logistics_cost - item.invoice_logistics_cost - item.refunded_amount) : '') | realPrice}}{{item.status === 'FINISHED' ? '' : '?'}}元</td> <td :class=\\\"{'text-success': item.status === 'FINISHED', 'text-danger': item.status === 'CANCELED'}\\\" _v-6ab49c64=\\\"\\\">{{item.status | orderStatusFilter}}</td> <td _v-6ab49c64=\\\"\\\">{{item.invoiced_amount &gt; 0 ? (item.invoiced_amount &gt;= item.amount + item.freight ? '已开票' : '已部分开票') : ''}}</td> <td _v-6ab49c64=\\\"\\\">{{item.paid_amount &gt; 0 ? (item.paid_amount === item.amount + item.freight ? '已付款' : '已付款' + Math.round(item.paid_amount / (item.amount + item.freight) *100) + '%') : ''}}</td> <td _v-6ab49c64=\\\"\\\"><a class=btn-link v-link=\\\"{path:'/order/detail/'+item.id}\\\" target=_blank _v-6ab49c64=\\\"\\\">查看详情</a></td> </tr> </tbody> </table> <a class=\\\"btn btn-primary\\\" v-if=sinceId @click=\\\"getList(type, sinceId, filterParams)\\\" _v-6ab49c64=\\\"\\\">查看更多</a> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-6ab49c64&file=list.vue!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/order/list.vue\n// module id = 51\n// module chunks = 2"],"sourceRoot":""}